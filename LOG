
25.09.2023

c ./fem3d/subuti.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/sublnkmpi.f:
! 29.03.2023    ggu     refactoring
c
c ./fem3d/newbcl.f:
c 02.04.2023	ggu	min/max of T/S computed correctly for mpi
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/subn35.f:
c 03.05.2023	ggu	avoid out of bound error in ckarea()
c
c ./fem3d/mod_shympi_node.f:
! 27.03.2023    ggu     new routines shympi_receive(), more docs
! 27.03.2023    ggu     new shympi_l2g_array_fix_i, shympi_gather_array_fix_i
! 13.04.2023    ggu     flagged potential problems with GGU_NKN_NEL_BUG
! 13.04.2023    ggu     introduced bnode, belem (distinguish calls to node/elem)
! 19.04.2023    ggu     potential bugs fixed with passing belem
! 03.05.2023    ggu     new routine shympi_bdebug()
! 18.05.2023    ggu     in shympi_gather_array() eliminate rectify array
! 09.06.2023    ggu     new routine error_stop()
!
c ./fem3d/newlevels.f:
! 09.05.2023    lrp     introduce top layer index variable
c ./fem3d/subgotm_mud.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/mod_conz.f:
! 28.04.2023	ggu	update function calls for belem
!
c ./fem3d/subflxa.f:
c 18.05.2023	ggu	in flx_write() call flx_collect_3d()
c 22.05.2023	ggu	need fluxes_r for write
c
c ./fem3d/ousutil.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/sigmautil.f:
c 09.05.2023    lrp     introduce top layer index variable
c 05.06.2023    lrp     introduce z-star
c
c ./fem3d/subfemintp.f:
! 27.04.2023    ggu     avoid creating automatic temporary array
! 09.05.2023    lrp     introduce top layer index variable
! 22.05.2023    ggu     new routine iff_ts_intp1()
! 05.06.2023    lrp     introduce z-star
!
c ./fem3d/subbndo.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/newini.f:
c 28.04.2023	ggu	possible nkn=nel bug flagged with GGU_NKN_NEL
c
c ./fem3d/shyelab_output.f:
! 28.04.2023    ggu     update function calls for belem
!
c ./fem3d/subbnd.f:
c 24.05.2023	ggu	in ckbnds() more debug, new boundary_debug()
c
c ./fem3d/basutil_part.f:
! 04.04.2023    ggu     minor changes
!
c ./fem3d/mod_shympi_dummy.f:
! 27.03.2023    ggu     new routines shympi_receive(), more docs
! 27.03.2023    ggu     new shympi_l2g_array_fix_i, shympi_gather_array_fix_i
! 03.05.2023    ggu     new routine shympi_bdebug()
! 09.06.2023    ggu     new routine error_stop()
!
c ./fem3d/shyfem.f:
c 28.04.2023    ggu     update function calls for belem
c 22.05.2023    ggu     new names for closing: close_init, close_handle
c 05.06.2023    lrp     introduce z-star
c
c ./fem3d/subn11.f:
c 01.04.2023	ggu	handle new boundary type 5
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/subdry.f:
c 23.05.2023	ggu	in setznv() loop over ie_mpi
c 07.06.2023	ggu	new routine compute_dry_elements()
c
c ./fem3d/mod_internal.f:
! 02.04.2023	ggu	initialize fxv, fyv
c ./fem3d/shypre.f:
c 06.05.2023    ggu     some enhancements and better error handeling
c 22.05.2023    ggu     locate is defined in module
c
c ./fem3d/submpi_tripple.f:
! 27.03.2023	ggu	tripple point routines copied here
! 28.03.2023	ggu	insert lmax into list
! 29.03.2023	ggu	finished, new routines for getting vals
! 02.04.2023	ggu	bug fix looking for internal element
! 03.04.2023	ggu	new bug fix looking for internal element
! 12.04.2023	ggu	fill buffer_in only if my_id == id_from
! 07.06.2023    ggu     in exchange_elem_info() use utlov not utlnv (bug-fix)
! 09.06.2023    ggu     bug fix for tripple point on external boundary
!
c ./fem3d/netcdf.f:
c 09.05.2023    lrp     write vertical velocity and density
c
c ./fem3d/lagrange_vertical.f:
c 22.05.2023	ggu	get_layer_thickness() was missing an argument
c 05.06.2023    lrp     introduce z-star
c
c ./fem3d/shyelab_util.f:
! 09.05.2023    lrp     introduce top layer index variable
! 05.06.2023    lrp     introduce z-star
c
c ./fem3d/mod_shympi_node_internal.f:
! 27.03.2023	ggu	new routines shympi_receive_internal_*()
! 13.04.2023	ggu	introduced bnode, belem (distinguish calls to node/elem)
!
c ./fem3d/subshyutil2.f:
! 28.04.2023    ggu     update function calls for belem
c
c ./fem3d/newstab.f:
c 29.03.2023	ggu	exchange rindex,tindex,gindex, write to info file
c 02.04.2023    ggu     only master writes to iuinfo
c 09.05.2023    lrp     introduce top layer index variable
c 24.05.2023    ggu     debug section introduced in hydro_internal_stability()
c
c ./fem3d/newexpl.f:
c 27.03.2023	ggu	tripple point routines in new file submpi_tripple.f
c 29.03.2023	ggu	handle tripple points, new horizontal diffusion routine
c 29.03.2023	ggu	exchange rindex between domains
c 09.05.2023    lrp     introduce top layer index variable
c 24.05.2023    ggu     momentum_viscous_stability(): must run over nel_unique
c 05.06.2023    lrp     introduce z-star
c
c ./fem3d/subflx3d.f:
c 21.04.2023	ggu	avoid access of node 0 in flxtype()
c
c ./fem3d/subshyutil.f:
! 28.04.2023    ggu     update function calls for belem
! 07.06.2023    ggu     array simpar introduced
! 20.07.2023    lrp     new paramter nzadapt
!
c ./fem3d/newchk.f:
c 02.04.2023	ggu	only master writes to iuinfo
c
c ./fem3d/submpi_ghost.f:
! 27.03.2023	ggu	bug fix... iloop == 4 eliminated
! 27.03.2023	ggu	bug fix... no ieaux
! 19.04.2023	ggu	in ghost_exchange adapt call to shympi_check_array()
c
c ./fem3d/mod_gotm_aux.f:
! 28.04.2023    ggu     update function calls for belem
c ./fem3d/subqfxt.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/newclose.f:
! 18.05.2023	ccf	include reading closure from file
!
c ./fem3d/shympi_debug.f:
! 28.04.2023    ggu     update function calls for belem
! 07.06.2023    ggu     make sure shympi_write_debug_init() is called
!
c ./fem3d/substress.f:
! 18.05.2023	ggu	forgot to exchange taubot in bottom_stress()
!
c ./fem3d/subtide.f:
! 28.04.2023	ggu	avoid using floating for **2
!
c ./fem3d/tselab1.f:
! 30.03.2023    ggu     implement -inclusive option
c
c ./fem3d/subele.f:
c 02.04.2023	ggu	to compute total mass only run over nkn_inner
c 09.05.2023    lrp     introduce top layer index variable
c 05.06.2023    lrp     introduce z-star
c
c ./fem3d/subtime.f:
c 02.04.2023    ggu     only master writes to iuinfo
c
c ./fem3d/newtra.f:
c 09.05.2023    lrp     introduce top layer index variable
c 05.06.2023    lrp     introduce z-star
c
c ./fem3d/shyelab_nodes.f:
! 09.05.2023    lrp     introduce top layer index variable
! 05.06.2023    lrp     introduce z-star
c
c ./fem3d/subgotm.f:
c 02.05.2023    ggu     fix mpi bug for nlv==1
c 09.05.2023    lrp     introduce top layer index variable
c 06.06.2023    ggu     minor change writing n2max
c
c ./fem3d/shyutil.f:
! 28.04.2023    ggu     update function calls for belem
! 09.05.2023    lrp     introduce top layer index variable
! 05.06.2023    lrp     introduce z-star
!
c ./fem3d/shyelab_average.f:
! 09.05.2023    lrp     introduce top layer index variable
! 05.06.2023    lrp     introduce z-star
c
c ./fem3d/newcon_omp.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/nosutil.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/zadaptutil.f:
c 05.06.2023    lrp     introduce z-star
c 18.07.2023	lrp	rzmov read from shy
c 20.07.2023	lrp	new parameter nzadapt
c
c ./fem3d/subexta.f:
c 18.09.2023	ggu	also write rho to ext file
c
c ./fem3d/shyelab1.f:
! 28.04.2023    ggu     update function calls for belem
! 07.06.2023    ggu     array simpar introduced
! 20.07.2023    lrp     new paramter nzadapt
c
c ./fem3d/newcon.f:
c 09.05.2023    lrp     introduce top layer index variable
c 31.05.2023    ggu     in conzstab, use ie_mpi, run over nkn_unique (bug fix)
c
c ./fem3d/subrst.f:
! 28.04.2023    ggu     update function calls for belem
! 02.05.2023    ggu     fix mpi bug for nlv==1
!
c ./fem3d/submud.f:
! 09.05.2023    lrp     introduce top layer index variable
c ./fem3d/mod_system.f:
! 02.05.2023	ggu	use ncopy for re-allocating
!
c ./fem3d/newconz.f:
c 02.04.2023    ggu     only master writes to iuinfo
c 19.04.2023    ggu     init tracer file output only once, syncronize
c
c ./fem3d/submeteo2.f:
c 02.04.2023    ggu     only master writes to iuinfo
c
c ./fem3d/newfix.f:
c 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/subshy.f:
! 28.04.2023    ggu     update function calls for belem
! 07.06.2023    ggu     new version 13 - simpar introduced
!
c ./fem3d/sublnks.f:
c 06.06.2023	ggu	do not write newlnk - not working in MPI
c
c ./fem3d/subboxa.f:
! 01.04.2023	ggu	debugging code
! 21.04.2023	ggu	changes in writing OB fluxes and boxes_3d_aver()
! 18.05.2023	ggu	tons of changes to get 2D mass check right
! 29.05.2023	ggu	bug fix: all section arrays have same dimension (ns)
!
c ./fem3d/check_shympi_debug.f:
! 28.03.2023    ggu     code refactorying, new options -summary
! 13.04.2023    ggu     avoid compiler errors for d/i/r_info
! 05.06.2023    ggu     handle exceptions, show records with highest errrors
! 09.06.2023    ggu     handle non existing files
c ./fem3d/subsort.f:
! 08.05.2023	ggu	transformed into module
!
c ./fem3d/mod_bndo.f:
! 01.04.2023	ggu	new array bexnod, handle fix boundary condition (bfix)
! 02.04.2023	ggu	merged files subbndo.f and mod_bndo.f
! 21.04.2023	ggu	call bexnod() only for existing boundaries
!
c ./fem3d/new3di.f:
c 02.05.2023    ggu     fix mpi bug for nlv==1
c 09.05.2023    lrp     introduce top layer index variable
c 08.06.2023    ggu     new zeta_debug(), cleaned, call to compute_dry_elements
c
c ./fem3d/lgrelab1.f:
! 28.04.2023    ggu     update function calls for belem
c
c ./fem3d/subflxm.f:
c 21.04.2023	ggu	problems in gather_sum_d3() ... not yet solved
c 18.05.2023	ggu	flux_write() changed, new routine flx_collect_3d()
c
c ./fem3d/submpi_basin.f:
! 12.04.2023	ggu	protect from nkn == nel
c ./fem3d/subwaves.f:
! 09.05.2023    lrp     introduce top layer index variable
!
c ./fem3d/shyparts.f:
! 04.04.2023	ggu	minor changes
! 27.04.2023	ggu	better error handling
c
c ./fem3d/levels.h:
! 09.05.2023    lrp     introduce top layer index variable
c
c ./fem3d/newtvd.f:
! 09.05.2023    lrp     introduce top layer index variable
!
c ./fem3d/subsys.f:
c 20.07.2023    lrp     new parameter nzadapt
c
c ./femutil/femfiles/profile.f:
! 31.05.2023	ggu	new routine sedi_init
c
c ./femplot/shyplot.f:
! 03.05.2023	ggu	introduced belem (bug fix)
! 22.05.2023	ggu	get_layer_thickness() was missing an argument
! 26.07.2023	lrp	introduce zstar in shyplot
!
c ./femplot/supdep.f:
c 26.07.2023    lrp     introduce zstar in shyplot


24.03.2023

c ./fem3d/sublnkmpi.f:
! 12.12.2022    ggu     new routine write_grd_general()
! 18.03.2023    ggu     adapted to new id_elem(0:3,:)
! 20.03.2023    ggu     write_grd_domain() is now called in shympi_setup()
c
c ./fem3d/subn35.f:
c 22.03.2023	ggu	relax error conditions for nodes not in same domain
c
c ./fem3d/shympi_general.f:
! 27.12.2022	ggu	documented
c
c ./fem3d/mod_shympi_node.f:
! 18.03.2023    ggu     id_elem is now (0:3)
!
c ./fem3d/subgrd.f:
c 13.12.2022	ggu	new routine write_grd_file_with_depth()
c
c ./fem3d/mod_bound_geom.f:
! 01.02.2023	ggu	added array rflux
c ./fem3d/subbndo.f:
c 22.03.2023	ggu	relax error condition on one node open boundary
c
c ./fem3d/subbnd.f:
c 20.03.2023	ggu	relax condition of no holes for ibtyp == 3
c
c ./fem3d/shybas.f:
c 12.01.2023    ggu     correct statistics of area also for lat/lon
c 29.01.2023    ggu     more on correct area computation (eliminated areatr)
c
c ./fem3d/mod_shympi_dummy.f:
! 18.03.2023    ggu     id_elem is now (0:3)
!
c ./fem3d/shyfem.f:
c 10.03.2023    ggu     do not use bmpirun anymore
c
c ./fem3d/subn11.f:
c 16.12.2022	ggu	no tilting for mpi -> error
c 01.02.2023	ggu	rflux introduced for double BC
c
c ./fem3d/newexpl.f:
c 18.03.2023	ggu	adjusted horizontal diffusion for mpi
c
c ./fem3d/femtide.f:
! 10.03.2023    ggu     call to populate_strings() added
c
c ./fem3d/submpi_ghost.f:
! 10.03.2023    ggu     new routine ghost_debug()
! 18.03.2023	ggu	resolved problem exchanging elements (ghost nodes)
! 20.03.2023	ggu	new subroutine ghost_handle()
! 24.03.2023	ggu	bug fix... ic not defined
c
c ./fem3d/subqfxu3.f:
! 08.03.2023	ggu	commented and added test routines
c
c ./fem3d/tselab1.f:
! 05.12.2022    ggu     tselab now accepts options -checkrain, -facts, -offset
! 12.01.2023    ggu     adapt also for discharge, avoid div by zero if no data
c
c ./fem3d/mod_petsc_global.f:
! 24.03.2023	clr	bug fix for global pointers (CLR24)
!
c ./fem3d/simsys_spkaux.f:
! 22.03.2023    ggu     introduced call to mod_system_realloc2d()
!
c ./fem3d/bdist.f:
c 12.12.2022	ggu	new routine mkdist_mpi() -> results will change
c 16.12.2022	ggu	nadist now running with mpi
c
c ./fem3d/subcoo.f:
c 22.03.2023	ggu	new check on n2zero
c
c ./fem3d/shyelab1.f:
! 21.12.2022    ggu     new options -rmin,-rmax,-rfreq implemented
! 10.03.2023    ggu     map renamed to influencemap
c
c ./fem3d/mod_system.f:
! 19.03.2023	ggu	temporary bug fix for dimension n2max (GGU18)
! 22.03.2023	ggu	new routine mod_system_realloc2d()
!
c ./fem3d/submeteo2.f:
c 06.12.2022	ggu	rfact for rain introduced
c
c ./fem3d/subdep.f:
c 05.12.2022	ggu	use ie_mpi for accumulation and computation of hkv
c
c ./fem3d/subboxa.f:
! 19.01.2023	ggu	adjourned for 3d array averaging and writing
! 29.01.2023	ggu	format of boxes_geom.txt has changed (with box nums)
!
c ./fem3d/subflxm.f:
c 19.01.2023	ggu	new routine gather_sum_d3()
c
c ./fem3d/submpi_basin.f:
! 10.03.2023	ggu	new call to ghost_debug()
! 20.03.2023	ggu	ghost node calls transferred to submpi_ghost.f
! 20.03.2023	ggu	call to write_grd_domain() at end of shympi_setup()
c ./fem3d/elabutil.f:
! 05.12.2022    ggu     -facts and -offset working with TS files
! 09.03.2023    ggu     setting -facts, -offset in one subroutine
! 10.03.2023    ggu     map renamed to influencemap
!
c ./femutil/netcdf/ncf_tutil.f:
! 17.02.2023	ggu	restructured with ncf routines
!
c ./femplot/supsim.f:
c 01.02.2023	ggu	use real area in plobox()


04.12.2022

c ./fem3d/sublnkmpi.f:
! 08.06.2022	ggu	new routine write_grd_domain()
! 15.10.2022    ggu     shympi_exchange_array substituted with shympi_l2g_array
c
c ./fem3d/newbcl.f:
c 15.10.2022	ggu	bug fix: rhov was recomputed after restart
c 15.10.2022	ggu	bpresv deleted
c
c ./fem3d/debug.f:
! 16.11.2022	ggu	new routine check1Dd()
!
c ./fem3d/mod_shympi_node.f:
! 01.06.2022    ggu     new routine shympi_gather_root()
! 09.10.2022    ggu     new variable nlv_local
! 11.10.2022    ggu     new routines to deal with fixed first dimension
! 13.10.2022    ggu     bug fix in shympi_g2l_array_3d - wrong indices
! 13.10.2022    ggu     new routine shympi_g2l_array_3d_d()
! 16.10.2022    ggu     shympi_exchange_array_3() eliminated
! 11.11.2022    ggu     in shympi_collect_node_value_3d_r() only copy existing
!
c ./fem3d/subgrd.f:
c 08.06.2022	ggu	new calling sequence in grd_write_item()
c 16.06.2022	ggu	new routine write_grd_file() for simplified writing
c
c ./fem3d/mod_ts.f:
! 15.10.2022	ggu	bpresv deleted
! 15.10.2022	ggu	bpresxv,bpresyv deleted
c
c ./fem3d/mod_bound_dynamic.f:
! 11.10.2022	ggu	initialize values
!
c ./fem3d/subflxa.f:
c 27.05.2022	ggu	changed to be used with mpi, fluxes now double
c 30.05.2022	ggu	more changes for mpi
c
c ./fem3d/subfemintp.f:
! 16.06.2022    ggu     use condense_valid_coordinates() before interpolating
! 01.12.2022    ggu     use recollocate_nodes() for placing values
! 03.12.2022    ggu     some debug code, bug fix GORO
!
c ./fem3d/newini.f:
c 21.10.2022	ggu	in init_vertical() bug fix - update sigma_info (GGUBS)
c
c ./fem3d/subflxu.f:
c 27.05.2022	ggu	prepared for mpi use, fluxes now double
c
c ./fem3d/shybas.f:
c 12.10.2022    ggu     new routine code_count called with -detail
c
c ./fem3d/mod_shympi_dummy.f:
! 09.10.2022    ggu     new variable nlv_local
! 11.10.2022    ggu     new routines to deal with fixed first dimension
! 16.10.2022    ggu     shympi_exchange_array_3() eliminated
!
c ./fem3d/subtsuvfile.f:
c 27.10.2022	ggu	tracer_init_file also working for 2d arrays
c
c ./fem3d/subn11.f:
c 11.10.2022	ggu	make_new_depth substituted with initialize_layer_depth
c
c ./fem3d/nc_dim_coords.f:
! 20.06.2022	ggu	look in variable name to find coordinates
! 23.10.2022	ggu	new routine handle_exceptions()
!
c ./fem3d/netcdf.f:
c 20.06.2022	ggu	maximum dimensions updated
c
c ./fem3d/mod_shympi_node_internal.f:
! 01.06.2022	ggu	new routine shympi_gather_d_internal()
! 09.10.2022	ggu	rectify 3d arrays with nlv+1 (nextra)
!
c ./fem3d/sublin.f:
c 27.05.2022	ggu	prepared for mpi
c
c ./fem3d/nc2fem.f:
! 23.06.2022	ggu	allowing offset given by user (-offset) 
! 23.06.2022    ggu     possible time correction for SMHI data (-tcorrect)
! 23.06.2022    ggu     more debug output with bwrite
!
c ./fem3d/newstab.f:
c 01.06.2022	ggu	in gravity_wave_stability() set hz to min 0
c
c ./fem3d/subbas.f:
c 16.06.2022    ggu     bug fix in bas_get_special_coordinates() -> np
c
c ./fem3d/newexpl.f:
c 15.10.2022	ggu	some new debug code, bpresxv,bpresyv local
c 21.10.2022	ggu	allocate big array saux that was on stack
c
c ./fem3d/nodelist.f:
! 22.05.2022    ggu     written from scratch
c
c ./fem3d/subshyutil.f:
! 11.10.2022	ggu	subst shympi_exchange_array_3 with shympi_l2g_array
! 18.10.2022	ggu	bug fix in call to shy_write_record() (GGU7)
!
c ./fem3d/mod_meteo.f:
! 03.06.2022	ggu	specific humidity added
c
c ./fem3d/sedtrans05.f:
! 21.10.2022    ggu     in FRIC1() avoid divide by 0 (HACK, GGUBS)
c
c ./fem3d/mod_gotm_aux.f:
! 13.10.2022	ggu	restart also with mpi
!
c ./fem3d/subqfxt.f:
c 09.07.2022	ggu	kspecial for special output
c
c ./fem3d/basutil.f:
! 12.10.2022	ggu	new option -detail (bdetail)
!
c ./fem3d/mod_hydro_vel.f:
! 09.10.2022	ggu	set wlnv, wlov to zero
c
c ./fem3d/shympi_debug.f:
! 09.10.2022	ggu	enable debug 3d arrays nlv+1
! 11.10.2022    ggu     new routines to deal with fixed first dimension
!
c ./fem3d/subele.f:
c 11.10.2022	ggu	new routine initialize_layer_depth
c
c ./fem3d/subww3.f:
! 15.10.2022    ggu     shympi_exchange_array substituted with shympi_l2g_array
!
c ./fem3d/simsys_spkaux.f:
! 16.11.2022    ggu     in system_initialize() use nlv_global for global matrix
!
c ./fem3d/bdist.f:
c 28.05.2022	ggu	better error handling in mkdist_new()
c
c ./fem3d/subreg.f:
c 25.11.2022	ggu	new routine recollocate_nodes() and ipg array
c
c ./fem3d/nc_tutil.f:
! 23.06.2022	ggu	allow for custom time correction (correct_nc_time*)
!
c ./fem3d/subbnds.f:
c 03.12.2022	ggu	some new debug code
c
c ./fem3d/subrst.f:
! 11.10.2022	ggu	mpi-version - helper functions defined
! 13.10.2022	ggu	mpi-version finished (no gotm, conz, etc.. yet)
!
c ./fem3d/basutil_box.f:
c 18.05.2022	ggu	some more checks in sort_multiple_sections()
c 08.06.2022	ggu	save external nodes in basboxgrd for grd_write_item()
c 16.06.2022	ggu	write coloring errors to grd files
c 13.07.2022	ggu	forgot setting listold(0,:)
c
c ./fem3d/submeteo2.f:
c 03.06.2022	ggu	in meteo_convert_heat_data() save read vapor to array
c 08.07.2022	ggu	avoid divide by zero when computing dice
c
c ./fem3d/newfix.f:
c 03.06.2022	ggu	prepared for mpi (not yet ready)
c
c ./fem3d/subconutil.f:
c 27.10.2022	ggu	conmima also working for 2d arrays
c
c ./fem3d/subboxa.f:
! 10.05.2022	ggu	reads new version of index file (boxes.txt)
! 30.05.2022	ggu	first changes for mpi use
! 01.06.2022	ggu	adjusted for mpi and 2d
! 08.06.2022	ggu	only master writes to output files
! 16.06.2022	ggu	only write header once (bug)
! 15.10.2022	ggu	shympi_exchange_array substituted with shympi_l2g_array
!
c ./fem3d/check_shympi_debug.f:
! 05.10.2022    ggu     handle different initial time and header
!
c ./fem3d/femelab1.f:
! 02.06.2022	ggu	new custom routines
! 29.06.2022	ggu	new offsets introduced....
! 29.11.2022	ggu	new routine write_minmax(), write files with -write
! 30.11.2022	ggu	if facts or offset given set output
! 30.11.2022	ggu	rain_elab() revised
c
c ./fem3d/new3di.f:
c 08.06.2022    ggu	debug routines inserted (ggu_vertical)
c 11.10.2022    ggu	debug section inserted in wlnv computing
c
c ./fem3d/subflxm.f:
c 28.05.2022	ggu	copied from subflxa.f
c
c ./fem3d/newtvd.f:
! 03.06.2022    ggu     documentation, adapted for mpi (only itvd==1 is working)
!
c ./femplot/col.f:
c 20.09.2022	ggu	in colauto() use absolute value in case val is constant


19.05.2022

c ./fem3d/simsys_petsc.f:
! 18.05.2022	ggu	beautified
!
c ./fem3d/new3di.f:
c 18.05.2022    ggu	cpu_time routines introduced
c
c ./fem3d/mod_petsc_system.f:
! 19.05.2022	ggu	comment PetscObjectSetName() to avoid compiler error
!
c ./fem3d/shyfem.f:
c 18.05.2022    ggu     cpu_time routines introduced
c
c ./fem3d/subboxa.f:
c 10.05.2022	ggu	reads new version of index file (boxes.txt)
c
c ./fem3d/subtimeutil.f:
c 18.05.2022	ggu	new routines cpu_time_*()
c
c ./fem3d/basutil_box.f:
c 10.05.2022	ggu	write element types on external element numbers
c 10.05.2022	ggu	new routine sort_multiple_sections() for predictability
c
c ./fem3d/mod_petsc_global.f:
! 19.05.2022	ggu	beautifying
!
c ./fem3d/femtime.h:
! 18.05.2022	ggu	new arrays for accumulation of cpu timing info
c
c ./fem3d/check_shympi_debug.f:
! 18.05.2022    ggu     new option -maxdiff


06.05.2022

c ./fem3d/subn11.f:
c 02.05.2022	ggu	exchange mfluxv, rqdsv, rqv (maybe not needed)
c 03.05.2022	ggu	do not exchange rqv, lots of debug code
c
c ./fem3d/sublnkmpi.f:
! 13.04.2022	ggu	newly written
! 26.04.2022	ggu	write grd file if needed
c
c ./fem3d/sigmautil.f:
c 29.04.2022	ggu	in compute_sigma_info() check for nlv<1
c
c ./fem3d/elabutil.f:
! 03.05.2022    ggu     new option -nlgtype
!
c ./fem3d/submet.f:
c 02.05.2022	ggu	in convert_distributed() use ie_mpi
c
c ./fem3d/basutil_part.f:
! 13.04.2022    ggu     new call to make_links (ibound)
!
c ./fem3d/subqfxt.f:
c 29.04.2022	ggu	check impossible heat flux values
c
c ./fem3d/subcus.f:
c 04.05.2022	mbj	new routine to compute the ibe effect
c
c ./fem3d/shyfem.f:
c 12.04.2022    ggu     message to show if mpi support is available
c
c ./fem3d/newcon.f:
c 03.05.2022	ggu	exchanging twice around bndo_setbc() -> improve
c
c ./fem3d/submpi_basin.f:
! 12.04.2022	ggu	possibility to partition online now
c
c ./fem3d/sublnka.f:
c 13.04.2022	ggu	new call to make_links (ibound)
c
c ./fem3d/subbndo.f:
c 26.04.2022	ggu	implementing OB in more than one domain
c 03.05.2022	ggu	lots of debug code integrated
c
c ./fem3d/lgrelab1.f:
c 03.05.2022    ggu     use new option -nlgtype
c
c ./fem3d/sublnku.f:
c 22.04.2022	ggu	new locator functions using passed nen3v
c
c ./fem3d/subver.f:
c 12.04.2022	ggu	version 7.5.77  Istanbul II edition bis
c
c ./fem3d/subww3.f:
! 05.05.2022    aar     lots of changes from Aron
c ./fem3d/mod_geom.f:
! 13.04.2022	ggu	new array iboundv (indicator of boundary node)
! 26.04.2022	ggu	dxv, dyv eliminated
c ./fem3d/shyparts_metis_util.f:
! 12.04.2022	ggu	bug fix: iarnv and iarv were not saved
c
c ./fem3d/links.f:
c 13.04.2022    ggu     new call to make_links (ibound)
c 13.04.2022    ggu     debug code inserted ... not yet finished
c 22.04.2022    ggu     locator functions substituted with save version
c 26.04.2022    ggu     mkdxy eliminated
c 29.04.2022    ggu     in checkkant do not stop for nmpi>0
c
c ./fem3d/shyparts.f:
! 12.04.2022	ggu	restructured to allow for online computing
c
c ./fem3d/simsys_spk.f:
! 02.05.2022    ggu     bug fix in system_solve_global() -> use only inner nodes
!
c ./fem3d/check_shympi_debug.f:
! 02.05.2022    ggu     new option -nodiff
c ./fem3d/shyparts_util.f:
! 12.04.2022	ggu	preapred for online partitioning
c
c ./fem3d/shyparts_dummy.f:
! 12.04.2022	ggu	adapted
c
c ./fem3d/subfemintp.f:
! 29.04.2022    ggu     in iff_interpolate_vertical_int() skip ipl==0
!
c ./fem3d/subn35.f:
c 12.04.2022	ggu	global bdebug and iczunit variable for debugging
c
c ./fem3d/subww3_dummy.f:
! 06.05.2022    ggu     module renamed to subww3


12.04.2022

c ./fem3d/subn11.f:
c 11.04.2022	ggu	mpi handling of zconst
c
c ./fem3d/new3di.f:
c 10.04.2022    ggu	ie_mpi introduced for trans, debug code, hydro_debug()
c
c ./fem3d/subreg.f:
c 11.04.2022	ggu	new routine condense_valid_coordinates for single nodes
c
c ./fem3d/shyfem.f:
c 11.04.2022    ggu     no -mpi switch necessary anymore
c 12.04.2022    ggu     message to show if mpi support is available
c
c ./fem3d/mod_shympi_node.f:
! 10.04.2022    ggu     in shympi_check_array() pass info on h/v dim
! 10.04.2022    ggu     better error reporting (not finished)
! 12.04.2022    ggu     file cleaned
!
c ./fem3d/submpi_basin.f:
! 12.04.2022	ggu	possibility to partition online now
c
c ./fem3d/newtra.f:
c 10.04.2022	ggu	ie_mpi and double in uvint (compiler issue with INTEL)
c
c ./fem3d/shyparts_metis_util.f:
! 11.04.2022	ggu	prepare for online partitioning
! 12.04.2022	ggu	bug fix: iarnv and iarv were not saved
c
c ./fem3d/shyparts.f:
! 12.04.2022	ggu	restructured to allow for online computing
c
c ./fem3d/submpi_ghost.f:
! 10.04.2022	ggu	adjourned call to shympi_check_array()
c
c ./fem3d/mod_shympi_node_internal.f:
! 10.04.2022	ggu	bug fix in shympi_bcast_d_internal() - val was real
!
c ./fem3d/shyparts_util.f:
! 12.04.2022	ggu	preapred for online partitioning
c
c ./fem3d/shyparts_dummy.f:
! 12.04.2022	ggu	adapted
c
c ./fem3d/subn35.f:
c 12.04.2022	ggu	global bdebug and iczunit variable for debugging
c
c ./fem3d/mod_shympi_dummy.f:
! 11.04.2022    ggu     call to shympi_check_array() adapted
! 12.04.2022    ggu     file cleaned


09.04.2022

c ./fem3d/shympi_debug.f:
! 02.04.2022	ggu	two new routines shympi_write_debug_record_3d_*()
! 06.04.2022	ggu	new routine to handle double precision
!
c ./fem3d/newexpl.f:
c 30.03.2022	ggu	compiler bug with PGI (PGI_ggguuu) - no solution
c 04.04.2022	ggu	exchange momentx/yv arrays
c 08.04.2022	ggu	ie_mpi introduced computing advective terms
c 09.04.2022	ggu	ie_mpi also in baroclinic section, some debug code
c
c ./fem3d/subtsutil.f:
! 30.03.2022	ggu	compiler warning: statement function icm was not used
!
c ./fem3d/subdif.f:
c 09.04.2022	ggu	smagorinski prepared for mpi
c
c ./fem3d/new3di.f:
c 07.04.2022    ggu	ie_mpi introduced in computing vertical velocities
c
c ./fem3d/subele.f:
c 06.04.2022	ggu	area and depth routines adapted with ie_mpi
c
c ./fem3d/subdts.f:
c 30.03.2022	ggu	bug fix: atime0 was not initialized
c
c ./fem3d/subtsuvfile.f:
c 05.04.2022	ggu	in tracer_init_file only set existing layers
c
c ./fem3d/basutil_part.f:
! 30.03.2022	ggu	bug fix: nkn_save,nel_save were not initialized
!
c ./fem3d/shyfem.f:
c 02.04.2022    ggu     new option -mpi_debug -> calls shympi_check_all()
c 02.04.2022    ggu     new routine shympi_write_debug_special()
c 03.04.2022    ggu     timing problems in handle_debug_output() solved
c
c ./fem3d/submpi_buffer.f:
! 06.06.2022	ggu	new routines to handle double precision
c
c ./fem3d/mod_shympi_node.f:
! 01.04.2022    ggu     new routine shympi_set_debug()
! 02.04.2022    ggu     in shympi_check_array() better error output
! 02.04.2022    ggu     new array nlv_domains containing nlv values for domains
! 02.04.2022    ggu     routines shympi_gather_array_3d_*() finally running
! 03.04.2022    ggu     new routine shympi_bcast_array_d()
! 05.04.2022    ggu     new routines to copy from global to local
! 06.04.2022    ggu     new routines for handling double precision
!
c ./fem3d/newcon.f:
c 06.04.2022	ggu	adapted to regular assembling over elems (ie_mpi)
c 07.04.2022	ggu	debug code (kdebug)
c
c ./fem3d/submpi_basin.f:
! 05.04.2022	ggu	new routine check_global_indices()
c
c ./fem3d/newbcl.f:
c 09.04.2022    ggu     new iterwant in rhoset_shell for mpi
c
c ./fem3d/subwaves.f:
! 30.03.2022	ggu	bug: in write_wwm nlev was not set before call
!
c ./fem3d/newtra.f:
c 07.04.2022	ggu	ie_mpi introduced computing print velocities
c
c ./fem3d/newconz.f:
c 29.03.2022	ggu	eliminated error with profile=check
c
c ./fem3d/subtime.f:
c 28.03.2022	ggu	bug fix: ddtmin was not saved
c
c ./fem3d/check_shympi_debug.f:
! 30.03.2022    ggu     ntime was not initialized
! 02.04.2022    ggu     new routine i_info()
! 06.04.2022    ggu     new code for handling double variables
! 07.04.2022    ggu     command line options introduced
! 09.04.2022    ggu     minor changes

c ./fem3d/subgotm.f:
c 29.03.2022	ggu	do not need gotm support if running 2d simulation
c 07.04.2022	ggu	ie_mpi for bnstress, exchange visv,difv, debug code
c 09.04.2022	ggu	lots of debug code added
c
c ./fem3d/mod_shympi_node_internal.f:
! 02.04.2022	ggu	new routines shympi_rectify_internal_*()
! 03.04.2022	ggu	new routine shympi_bcast_d_internal()
! 06.04.2022	ggu	new routines for handling double precision
!
c ./fem3d/aquabc_II_fem_interface.f:
! 29.03.2022	ggu	icall was not initialized
!
c ./fem3d/subexta.f:
c 02.04.2022	ggu	close ext file explicitly
c
c ./fem3d/subfemintp.f:
! 28.03.2022    ggu     minor changes in iff_print_info()
!
c ./fem3d/subn35.f:
c 02.04.2022	ggu	revisited for mpi, actual chezy now at position 0
c 02.04.2022	ggu	adjust_chezy() adjusted for multi-domain
c
c ./fem3d/subturbine.f:
! 26.03.2022    ggu     compiler warnings (see FIXME)
c
c ./fem3d/submpi_assert.f:
! 01.04.2022	ggu	some more checkes
! 01.04.2022	ggu	in shympi_check_hydro_print() check for wprv was wrong

c ./fem3d/mod_shympi_dummy.f:
! 01.04.2022    ggu     new routine shympi_set_debug()
! 02.04.2022    ggu     new routines shympi_gather_array_3d_*()
! 06.04.2022    ggu     new routines for double precision
!
c ./fem3d/subshyutil.f:
! 03.04.2022	ggu	bug fix in shy_write_output_record() -> write 2d arrays
!
c ./fem3d/subconutil.f:
c 05.04.2022	ggu	initialize only existing layers
c
c ./save/save.16767/fem3d/subscn.f:
! 26.03.2022    ggu     compiler warnings adjusted
!
c ./save/save.16767/fem3d/subcmv.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/suboi.f:
c 26.03.2022	ggu	compiler warnings adjusted
c
c ./save/save.16767/fem3d/subn11.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subreg.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/sublin.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subsrt.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/shybas.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/shyelab1.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/newrog.f:
c 26.03.2022	ggu	compiler warnings adjusted
c
c ./save/save.16767/fem3d/elab_regular.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subround.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/newcon.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subssm.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/lagrange_flux.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subext.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subbndo.f:
c 26.03.2022	ggu	compiler warnings adjusted
c
c ./save/save.16767/fem3d/subwaves.f:
! 26.03.2022	ggu	compiler warnings adjusted
!
c ./save/save.16767/fem3d/femelab1.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/lgrelab1.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subbas.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/basutil_interp.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/sub2linear.f:
! 26.03.2022    ggu     compiler warnings adjusted
!
c ./save/save.16767/fem3d/basutil_resol.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/femintp.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subsss.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/subres.f:
c 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/femtide.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/femelab2.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/scal_intp.f:
c 26.03.2022	ggu	compiler warnings adjusted
c
c ./save/save.16767/fem3d/shyelab_average.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/fem3d/sedi3d.f:
! 26.03.2022    ggu     compiler warnings adjusted
c
c ./save/save.16767/femadj/adjgrd.f:
c 26.03.2022	ggu	compiler warnings adjusted


26.03.2022

c ./fem3d/basutil_smooth.f:
c 26.03.2022	ggu	bug: ike was passed, but logical needed -> bnodes
c
c ./fem3d/lgrelab1.f:
c 23.03.2022	ggu	bug fixes
c
c ./fem3d/subww3.f:
! 24.03.2022    ggu     newly started with Aron
c ./fem3d/subww3_dummy.f:
! 24.03.2022    ggu     newly started with Aron


22.03.2022

c ./fem3d/bio3d.f:
c 22.03.2022	ggu	upgraded to da_out and new cmed
c
c ./fem3d/lgrelab.f:
! 21.03.2022	ggu	newly written :-)
c
c ./fem3d/submeteo2.f:
c 21.03.2022	ggu	new calls for write in debug mode
c
c ./fem3d/mercury.f:
c 21.03.2023    ggu     cleaning code
c
c ./fem3d/subcus.f:
c 20.03.2022	ggu	upgraded to da_out
c
c ./fem3d/subvola.f:
c 20.03.2022    ggu     upgraded to da_out
c
c ./fem3d/newstab.f:
c 20.03.2022	ggu	upgraded to da_out
c
c ./fem3d/newpoi.f:
! 21.03.2022    ggu     upgraded to new write
!
c ./fem3d/atoxi3d.f:
c 21.03.2022	ggu	upgraded to da_out
c 22.03.2022	ggu	upgraded to new cmed
c
c ./fem3d/subfvl.f:
c 20.03.2022	ggu	upgraded to da_out
c
c ./fem3d/suboutputd.f:
c 18.03.2022    ggu     bug fix in increase_output_d() itend -> dtend
c
c ./fem3d/newnudge.f:
c 21.03.2022    ggu     upgraded to da_out
c
c ./fem3d/subwaves.f:
! 20.03.2022	ggu	converted convert_time -> convert_time_d
!
c ./fem3d/femadd.f:
! 16.03.2022	ggu	femadd newly written
c
c ./fem3d/lgrelab1.f:
c 21.03.2022	ggu	compute density by type (btype)
c
c ./fem3d/lagrange_read.f:
! 21.03.2022	ggu	new routine lgr_rewind_block()
!
c ./fem3d/suboff.f:
c 20.03.2022	ggu	upgraded to suboutputd.f
c
c ./fem3d/femcombine.f:
! 16.03.2022	ggu	writes also time string
c
c ./fem3d/newnohydro.f:
c 20.03.2022	ggu	upgraded to da_out
c
c ./fem3d/bdist.f:
c 21.03.2022	ggu	disable writing of dist.shy
c
c ./fem3d/subtime.f:
c 20.03.2022	ggu	eliminated convert_time -> convert_time_d
c 21.03.2022	ggu	bug in set_timestep: dtmin is real, now use ddtmin as dp
c
c ./fem3d/subres.f:
c 21.03.2022	ggu	new version with da_out
c 22.03.2022	ggu	cmed routines removed and put into subconutil.f
c
c ./fem3d/netcdf.f:
c 20.03.2022	ggu	accept int64 data type for time variable
c
c ./fem3d/subshyutil.f:
! 18.03.2022	ggu	some documentation
! 21.03.2022	ggu	unconditional write distinguishes with b2d
!
c ./fem3d/bio3d_util.f:
c 22.03.2022    ggu     upgraded to da_out and new cmed
c
c ./fem3d/subconutil.f:
c 20.03.2022	ggu	started discommissioning file
c 21.03.2022	ggu	only some subroutines save to this new file
c 22.03.2022	ggu	cmed routines transfered from subres.f to here
c
c ./obsolete/subcon1.f:
c 20.03.2022	ggu	started discommissioning file


15.03.2022

c ./femplot/plotutil.f:
! 25.06.2021	ggu	do not call shyfem_copyright()
!
c ./femplot/shyplot.f:
! 08.06.2021	ggu	forgot to call populate_strings()
! 25.06.2021	ggu	populate_strings() before plotutil_init()
! 25.06.2021	ggu	in plot_lgr_file() call shympi_init() after basin init
! 21.10.2021	ggu	fixed for vertical velocity as overlay
!
c ./femplot/supsim.f:
c 13.07.2021	ggu	better box plotting
c 21.10.2021	ggu	allow for vertical velocity overlay
c
c ./femplot/supver.f:
c 21.10.2021	ggu	compute and keep in wauxv average on mid layer
c
c ./femplot/supbas.f:
c 10.11.2021    ggu     avoid warning for stack size
c
c ./fem3d/subtsutil.f:
! 24.11.2021	ggu	documentation added
!
c ./fem3d/subcoo.f:
c 09.03.2022	dbf	bug nonhydro solved ($NONHYDRO)
c
c ./fem3d/sedtrans05.f:
! 10.11.2021    ggu     avoid warning for obsolete code
c
c ./fem3d/basutil_bathy.f:
c 14.02.2022	ggu	revisted, some bug fixes
c
c ./fem3d/basutil.f:
! 14.02.2022	ggu	no ike, some extra comments
! 16.02.2022	ggu	new option -boxgrd implemented (bboxgrd, index_file)
!
c ./fem3d/subturbine.f:
! 01.07.2021    mpc     transfered routines from subcus.f
! 17.07.2021    ggu&dbf adapted to SHYFEM framework
! 10.11.2021    mpc     code changed fixing compiler warnings
c
c ./fem3d/subshyutil.f:
! 02.06.2021	ggu	bug fix: use ng (nlv_global) for output arrays
! 15.06.2021	ggu&clr	bug fix: use nl for lmax==1
!
c ./fem3d/shybas.f:
c 10.11.2021    ggu     avoid warning for stack size
c 16.02.2022    ggu     new call to basboxgrd() to re-create grd file from index
c
c ./fem3d/subtime.f:
c 31.05.2021	ggu	write stability index to inf file
c 15.07.2021	ggu	do not set it (for climatological runs)
c 16.02.2022	ggu	cosmetic changes
c
c ./fem3d/nc_dim_coords.f:
! 21.10.2021	ggu	new dims and coords for vertical
! 27.01.2022	ggu	new values for atmos
!
c ./fem3d/newconz.f:
c 22.06.2021	ggu	age computation introduced (bage)
c 28.06.2021	ggu	bug fix for age and OMP
c 15.02.2022	ggu	read iage/bage from STR file
c 16.02.2022	ggu	compute age in days
c
c ./fem3d/mod_diff_visc_fric.f:
! 16.07.2021	ggu	new variable ifricv for turbines
c ./fem3d/femcombine.f:
! 27.01.2022	ggu	minor changes
c
c ./fem3d/elab_resample.f:
! 05.11.2021	ggu	finished for use in femelab
c
c ./fem3d/basutil_box.f:
c 10.11.2021	ggu	avoid warning for stack size
c 10.02.2022	ggu	better error message for not connected domain
c 16.02.2022	ggu	new routine basboxgrd()
c 09.03.2022	ggu	write also file index_sections.grd for the sections
c
c ./fem3d/femelab1.f:
! 05.11.2021	ggu	resample option implemented
! 10.11.2021	ggu	avoid warning for data_out
! 25.01.2022	ggu	expand after resampling, new option -grdcoord
! 27.01.2022	ggu	new options -rmin,-rmax,-rfreq implemented
! 07.03.2022	ggu	new options -changetime to shift time reference
c
c ./fem3d/mod_shympi_dummy.f:
! 08.06.2021    ggu     parameters in shympi_exchange_array_3() were integer
! 25.06.2021    ggu     in shympi_init() check if basin has been read
! 20.10.2021    ggu     do not stop when reading grd file
!
c ./fem3d/subclo.f:
! 15.07.2021	ggu	reorder structure (double first)
!
c ./fem3d/new3di.f:
c 31.05.2021    ggu	eleminated bug for closing in hydro_transports_final()
c 17.07.2021    ggu	introduced ifricv and call to turbine()
c
c ./fem3d/newchk.f:
c 31.05.2021	ggu	write time line in node/elem debug
c
c ./fem3d/mod_conz.f:
! 22.06.2021	ggu	new parameter bage for age computation
!
c ./fem3d/lgrelab1.f:
c 26.06.2021	ggu	better output to terminal
c
c ./fem3d/submeteo2.f:
c 03.06.2021	mbj	added Hersbach wind stress formulation
c 26.01.2022	ggu	bug in short name of icecover fixed
c 01.02.2022	ggu	automatically convert cloudcover from % to fraction
c
c ./fem3d/intp.f:
c 10.11.2021    ggu     avoid warning for stack size
c
c ./fem3d/check_shympi_debug.f:
! 10.11.2021    ggu     avoid warning for stack size
c
c ./fem3d/grdutil.f:
! 12.02.2022	ggu	subroutine to work with uncomplete depth
! 14.02.2022	ggu	extra helper routines
!
c ./fem3d/newini.f:
c 02.06.2021	ggu	call levels_reinit() changed to levels_hlv_reinit()
c 20.07.2021	ggu	test if file has been opened for velocities
c
c ./fem3d/newcon.f:
c 31.05.2021	ggu	possibly write stability index to inf file
c 15.02.2022	ggu	new routine limit_scalar() implemented
c 19.02.2022	ggu	write nodes where limit is exceeded
c
c ./fem3d/submir_redux.f:
c 09.11.2021	ggu	reduced to esential routines
c
c ./fem3d/shyproj.f:
! 12.02.2022    ggu     allow for incomplete depth
!
c ./fem3d/subqfxu1.f:
c 09.11.2021	ggu	eliminated arithmetic if
c
c ./fem3d/subboxa.f:
c 26.06.2021	ggu	wrong units for rain and evaporation
c 27.06.2021	ggu	write header in all files
c 28.06.2021	ggu	flushing of output files
c 16.02.2022	ggu	write nvars in _geom file
c 09.03.2022	ggu	a comment that section nodes in index.txt are external
c
c ./fem3d/subfemfile.f:
! 23.06.2021	ggu	more documentation
! 27.01.2022	ggu	new routine for skipping record, find last record
!
c ./fem3d/tselab1.f:
! 07.03.2022    ggu     new options -changetime to shift time reference
c
c ./fem3d/shyelab_nodes.f:
! 25.06.2021	ggu	better legend for node profiles
c
c ./fem3d/subfemintp.f:
! 22.10.2021	ggu	some debug code inserted
! 10.11.2021    ggu     avoid warning for stack size
! 17.11.2021    ggu     iff_interpolate renamed to iff_final_time_interpolate
! 17.11.2021    ggu     bflow added to trace calls
! 17.11.2021    dbf     bug fix in iff_init -> BC handling was wrong
!
c ./fem3d/newbcl.f:
c 31.05.2021    ggu     changes in ts_dia(), debug section
c
c ./fem3d/newlevels.f:
! 02.06.2021	ggu	restructured - different calls for 2d and hlv
c ./fem3d/lgrinf.f:
c 25.06.2021	ggu	new version to read shy lgr files
c
c ./fem3d/subgrd.f:
c 12.02.2022	ggu	new variable bcdepth
c 09.03.2022	ggu	new routine grd_write_node()
c
c ./fem3d/basutil_interp.f:
c 14.02.2022	ggu	cosmetic changes
c
c ./fem3d/line_util.f:
! 02.02.2022	ggu	some enhancements with new code
c
c ./fem3d/subres.f:
c 15.07.2021	ggu	do not use -> it must be converted to dtime
c
c ./fem3d/mod_shympi_node.f:
! 25.06.2021    ggu     in shympi_init() check if basin has been read
! 10.11.2021    ggu     error fix mixing scalar and array arguments
! 22.11.2021    ggu     error fix when reading grd file
!
c ./fem3d/subiso8601.f:
! 21.10.2021	ggu	allow for short version of date: YYYY-M-D
!
c ./fem3d/subrst.f:
! 15.07.2021	ggu	store flags for what has been read
!
c ./fem3d/femintp.f:
! 27.01.2022	ggu	better output to monitor
c
c ./fem3d/subsys.f:
c 15.02.2022	ggu	new parameter iage
c 15.02.2022	ggu	new parameters for limiting_scalar
c
c ./fem3d/lagrange_read.f:
c 25.06.2021	ggu	minor changes
c
c ./fem3d/elabutil.f:
! 05.11.2021    ggu     resample option added
! 25.01.2022    ggu     new option -grdcoord to plot fem grid
! 27.01.2022    ggu     new options -rmin,-rmax,-rfreq
! 07.03.2022    ggu     new options -changetime to shift time reference
!
c ./fem3d/subshy.f:
! 23.06.2021    ggu     more documentation
!
c ./fem3d/subele.f:
c 02.06.2021	ggu	computing depth at node run over nkn_inner
c
c ./femutil/netcdf/ncf_dim_coords.f:
! 21.10.2021	ggu	new dims and coords for vertical
!
c ./post/pcalpf.f:
c 10.11.2021	ggu	avoid compiler warnings for arithmetic if
c
c ./femadj/shyadj.f:
c 14.02.2022	ggu	set all depth values to flag


27.05.2021

c ./fem3d/subtsutil.f:
! 08.12.2020	ggu	started from subtsfile.f
! 12.12.2020	ggu	allow setting absolute time
!
c ./fem3d/shypart.f:
! 21.05.2020    ggu     better handle copyright notice
c
c ./fem3d/basutil.f:
! 21.05.2020	ggu	better handle copyright notice
!
c ./fem3d/shyelab1.f:
! 13.06.2020    ggu     use standard routines to set depth
c
c ./fem3d/nosutil.f:
c 22.09.2020    ggu     correct warnings for PGI compiler
c
c ./fem3d/offinf.f:
! 09.10.2020    ggu     adjusted using routines from module
c
c ./fem3d/links.f:
c 20.05.2020	ggu	bstop implemented
c 21.05.2020	ggu	module implemented
c 28.05.2020	ggu	new checks implemented
c 22.11.2020	ggu	bug fix: elem_list was too small dimensioned
c
c ./fem3d/subshyutil.f:
! 17.04.2021	ggu	writing shyfiles 2D now working in MPI mode
!
c ./fem3d/shybas.f:
c 28.05.2020    ggu     implement bquiet and bsilent
c 12.12.2020    ggu     compute transport CFL
c
c ./fem3d/shyparts_metis.f:
c 19.05.2020	ccf	started from scratch
c 24.05.2020	ggu	debug option added
c 28.05.2020	ggu	some more informational messages
c 15.07.2020	ggu	bug fix for counting elements
c
c ./fem3d/bdist.f:
c 26.05.2020	ggu	rdist is now defined on elements
c
c ./fem3d/rstinf.f:
! 27.03.2021    ggu     new option -checkval
! 14.04.2021    ggu     bug fix - atime was integer
c
c ./fem3d/shyparts_dummy.f:
c 19.05.2020	ccf	started from scratch
c
c ./fem3d/subgotm_mud.f:
c 01.04.2021	ggu	mod_turbulence substituted by mod_keps
c
c ./fem3d/mod_gotm_aux.f:
! 01.04.2021	ggu	create restart routines here
c ./fem3d/subn11.f:
c 05.06.2020	ggu	bug fix: set_area was not called (MPI_SET_AREA)
c 30.03.2021	ggu	in set_mass_flux() use new time step data
c 31.03.2021	ggu	some debug code (iudbg)
c
c ./fem3d/shypre.f:
c 21.05.2020    ggu     better handle copyright notice
c 13.07.2020    ggu     honor noopti flag, stack poisoning eliminated
c
c ./fem3d/sedi3d.f:
! 22.09.2020    ggu     correct warnings for PGI compiler
c
c ./fem3d/mod_keps.f:
! 01.04.2021	ggu	name changed to keps
c ./fem3d/mod_diff_visc_fric.f:
! 01.04.2021	ggu	initialize visv and difv
c ./fem3d/basutil_box.f:
c 10.04.2021	ggu	better error handling and info output
c
c ./fem3d/subsss.f:
c 11.12.2020	ggu	ichafs() and ichanm() moved to subscn.f
c
c ./fem3d/femelab1.f:
! 13.06.2020	ggu	handle case with no data (NODATA)
c
c ./fem3d/basutil_part.f:
! 28.05.2020	ggu	new checks for connection
!
c ./fem3d/mod_shympi_dummy.f:
! 10.06.2020	ggu	adjournments from node integrated
! 09.04.2021    clr     bug fix in shympi_bcast_array_r() -> real arg
! 17.04.2021    clr     new shympi_exchange_array_3(), check_external_numbers()
!
c ./fem3d/check_debug.f:
! 27.03.2021	ggu	adapted for other than real output
! 30.03.2021	ggu	some more enhancements
c ./fem3d/subgotm.f:
c 01.04.2021	ggu	new routine handle_gotm_init()
c 01.04.2021	ggu	debug code - look for iudbg
c
c ./fem3d/new3di.f:
c 26.05.2020	ggu	new variable ruseterm to shut off selected terms
c 04.06.2020	ggu	debug_new3di() for selected debug
c 30.03.2021	ggu	copy to old into shyfem routine
c
c ./fem3d/newchk.f:
c 29.08.2020	ggu	added new routine check_nodes_around_node()
c 27.03.2021	ggu	some femtime.h eliminated (not all), cleanup
c
c ./fem3d/sublnka.f:
c 20.05.2020	ggu	new way to compute link structure (still experimental)
c 28.05.2020	ggu	some more changes in constructing link structure
c
c ./fem3d/newtvd.f:
c 22.09.2020    ggu     correct warnings for PGI compiler
c
c ./fem3d/mod_roughness.f:
! 22.09.2020    ggu     correct warnings for PGI compiler
c ./fem3d/rst2shy.f:
! 18.11.2020	ggu	bug fix for 3D simulations
c
c ./fem3d/submeteo2.f:
c 11.11.2020	ggu	new routine meteo_has_ice_file()
c
c ./fem3d/check_shympi_debug.f:
! 03.06.2020	ggu	newly written based on check_debug.f
c
c ./fem3d/newtra.f:
c 30.03.2021	ggu	new routine compute_velocities()
c
c ./fem3d/mercury.f:
c 22.11.2020    ggu     some more on restart
c
c
c ./fem3d/grdutil.f:
! 28.05.2020	ggu	use bgrdwrite
! 13.10.2020	ggu	write grid with constant bathymetry on nodes
c
c ./fem3d/simsys_spk.f:
! 04.06.2020	ggu	bug in system_assemble() - use kn to decide on assemble
!
c ./fem3d/sublnku.f:
c 29.09.2020	ggu	added dimension check in get_nodes/elems_around()
c
c ./fem3d/shyproj.f:
! 21.05.2020    ggu     better handle copyright notice
c
c ./fem3d/subtsfile.f:
! 08.12.2020	ggu	better documentation
!
c ./fem3d/shyutil.f:
! 22.09.2020    ggu     correct warnings for PGI compiler
!
c ./fem3d/subscn.f:
! 11.12.2020	ggu	ichafs() and ichanm() moved here from subsss.f
!
c ./fem3d/newstab.f:
c 30.03.2021	ggu	better error output
c
c ./fem3d/subboxa.f:
c 20.03.2021	ggu	bug fix in box_write_stats()
c
c ./fem3d/subfemfile.f:
c 11.11.2020	ggu	bug fix for nvers < 3 (define lmax in data read)
c
c ./fem3d/shyelab_nodes.f:
! 13.06.2020	ggu	bug fix in write_nodes_hydro_fem()
c
c ./fem3d/subfemintp.f:
! 31.03.2021	ggu	center time for cubic intp in iff_populate_records()
! 31.03.2021	ggu	new routine iff_debug()
!
c ./fem3d/shyfem.f:
c 21.05.2020    ggu     better handle copyright notice
c 04.06.2020    ggu     debug_output() substituted with shympi_debug_output()
c 30.03.2021    ggu     more on debug, call sp111(2) outside time loop
c 01.04.2021    ggu     turbulence cleaned
c
c ./fem3d/newexpl.f:
c 26.05.2020	ggu	use rdistv now on elements and ruseterm
c
c ./fem3d/newbcl.f:
c 17.09.2020    ggu     renamed sigma to sigma_stp
c 24.03.2021    ggu     more diagnostic output in ts_dia()
c
c ./fem3d/subfil.f:
c 30.03.2021	ggu	simplified find_unit()
c
c ./fem3d/subgrd.f:
c 28.05.2020	ggu	bgrdwrite and grd_set_write() implemented
c
c ./fem3d/subdts.f:
c 12.12.2020	ggu	new routines dts_to_atime(), dts_to_dtime()
c 16.04.2021	ggu	better error messages
c
c ./fem3d/newbcl0.f:
c 17.09.2020	ggu	renamed sigma to sigma_stp
c
c ./fem3d/subwaves.f:
! 11.11.2020	ggu	get_ice_all() renamed to get_ice_cover_all()
!
c ./fem3d/mod_shympi_node.f:
! 07.06.2020	ggu	new routines, 3d exchange array still missing
! 09.04.2021	clr	bug fix in shympi_bcast_array_r() -> real arg
! 17.04.2021	clr	new shympi_exchange_array_3(), check_external_numbers()
!
c ./fem3d/subrst.f:
! 17.11.2020	ggu	new routine rst_get_hlv() and array hlvrst
! 18.11.2020	ggu	new version 13 (write ilhv,ilhkv)
! 18.11.2020	ggu	new version 14 (only write vertical for nlv>1)
! 30.03.2021	ggu	new routine init_old_vars()
! 01.04.2021	ggu	save turbulence in restart
!
c ./fem3d/suboutputd.f:
c 30.03.2021    ggu     bug fix in info_output_d()
c
c ./fem3d/debug.f:
! 22.09.2020	ggu	added test for arrays to check for Nan
! 27.03.2021	ggu	debug output routines added
! 30.03.2021	ggu	new routine set_debug_unit()
!
c ./fem3d/mod_internal.f:
! 26.05.2020	ggu	rdistv is now defined on elements
c ./fem3d/subfemutil.f:
c 10.07.2020    ggu     compiler warnings resolved (do not init arrays)
c
c ./fem3d/subice.f:
! 08.11.2020    ggu&riz	started new module shyice_model
! 13.11.2020    ggu	bug fix: cc is a fraction, not a percentage
! 13.11.2020    ggu	new number of variables is 46
! 14.11.2020    ggu	output routines finished
! 22.11.2020    ggu	some code for debugging added
!
c ./fem3d/newclose.f:
! 06.12.2020	ggu	deleted close.h
!
c ./fem3d/subqfxt.f:
c 11.11.2020	ggu	new ice model integrated, cleaned, documented
c 13.11.2020	ggu	bug fix: correct rain from [m/s] to [mm/d]
c 14.11.2020	ggu	allow for ice and other heat fluxes to coexist
c
c ./fem3d/shympi_debug.f:
! 03.06.2020	ggu	written from scratch and debugged
!
c ./fem3d/subwrt.f:
c 22.09.2020    ggu     correct warnings for PGI compiler
c
c ./fem3d/subsys.f:
c 11.11.2020	ggu	new parameter idtice and icemod
c 30.03.2021	ggu	new parameters idtdbg,itmdbg
c
c ./fem3d/mod_offline.f:
! 09.10.2020	ggu	added comments and error checking
! 13.10.2020	ggu	default values for T/S introduced
! 06.04.2021	ggu	better error message in off_check_vertical()
!
c ./fem3d/elab_gis.f:
! 30.03.2021	ggu	better output documentation
c
c ./fem3d/elabutil.f:
! 21.05.2020    ggu     better handle copyright notice
!
c ./fem3d/tide_utils.f:
! 15.07.2020	ccf&ggu	new default value for itidana=-1 (no analysis)
! 22.09.2020	ggu	correct warnings for PGI compiler
!
c ./fem3d/subbas.f:
c 17.04.2021	ggu	some better error handling
c
c ./fem3d/suboi.f:
c 22.11.2020	ggu	some more comments
c
c ./fem3d/offcat.f:
! 09.10.2020	ggu	adjusted using routines from module
c
c ./fem3d/subele.f:
c 01.04.2021	ggu	dimension check in dep3dnod()


19.05.2020

c ./femutil/var/femtime.f:
! 06.03.2020	ggu	changed VERS_7_5_69
c
c ./femutil/var/femtime.h:
! 06.03.2020	ggu	changed VERS_7_5_69
c
c ./fem3d/rstinf.f:
! 09.03.2020	ggu	prepared for mercury restart
! 20.03.2020    ggu     adjusted for new routine calls
c
c ./fem3d/new3di.f:
c 26.03.2020	ggu	adjust viscosity in case of closure (rcomp)
c
c ./fem3d/submeteo2.f:
c 17.04.2020	ggu	wind conversion routines out of this file
c
c ./fem3d/subbas.f:
c 18.05.2020	ggu	new routine basin_info_partition()
c
c ./fem3d/subnsh.f:
c 18.03.2020	ggu	admrst() substituted with rst_write_restart()
c
c ./fem3d/subtime.f:
c 16.03.2020	ggu	write also dtime to terminal
c
c ./fem3d/newbfm_internal.f:
! 09.03.2020	ggu	compiler bug fixed (ddt)
c ./fem3d/femelab1.f:
! 29.03.2020	ggu	with bcondense write also out.txt if possible
! 17.04.2020	ggu	with bsplit also write speed/dir if directional
! 30.04.2020	ggu	bugfix for breg and iextract
c
c ./fem3d/subbit10.f:
! 20.03.2020	ggu	new function bit10_return_value()
c
c ./fem3d/newbfm.f:
! 09.04.2020	ggu	new routine bfm_run()
c ./fem3d/femelab2.f:
! 29.03.2020	ggu	with bcondense write also out.txt if possible
! 17.04.2020	ggu	with bsplit also write speed/dir if directional
! 18.05.2020	ggu	completely restructured using module fem_util
c
c ./fem3d/subreg.f:
c 01.04.2020	ggu	new routine make_reg_box()
c
c ./fem3d/basutil_custom.f:
! 01.04.2020	ggu	written from scratch
c
c ./fem3d/substrings.f:
! 05.04.2020	ggu	review of strings
! 11.04.2020	ggu	review of directional strings
! 17.04.2020	ggu	new routine strings_meteo_convention()
! 18.05.2020	ggu	do not attach direction to file name
!
c ./fem3d/mod_internal.f:
! 26.03.2020	ggu	new variable vis_max and routine set_vis_max()
c ./fem3d/elab_check.f:
! 17.04.2020	ggu	better handling of directional variables
! 18.05.2020	ggu	period week implemented
c ./fem3d/mod_offline.f:
c 28.04.2020	ggu	restructured and taken out of suboff.f
c
c ./fem3d/shybas.f:
c 01.04.2020    ggu     new option -custom (bcustom) 
c
c ./fem3d/newbfm_dummy.f:
! 22.04.2020	ggu	error if called
c
c ./fem3d/suboff.f:
c 28.04.2020	ggu	routines dealing with records in new file mod_offline.f
c
c ./fem3d/elab_resample.f:
! 21.04.2020	ggu	written from scratch
! 18.05.2020	ggu	some more improvements, but still not ready
c
c ./fem3d/shyfem.f:
c 03.04.2020	ggu	write real start and end time of simulation
c 09.04.2020    ggu     run bfm through bfm_run()
c
c ./fem3d/basutil.f:
! 01.04.2020	ggu	new option -custom (bcustom)
!
c ./fem3d/subfemutil.f:
c 01.04.2020    ggu     new routines to write regular fem file
c 22.04.2020    ggu     module procedures introduced
c 18.05.2020    ggu     check read/write of files, flag in structure
c
c ./fem3d/newconz.f:
c 20.03.2020	ggu	restart routines added
c
c ./fem3d/lagrange_connect.f:
! 30.04.2020    mcg     adapted to new applications
c
c ./fem3d/subsys.f:
c 09.03.2020	ggu	more documentation upgraded, spell check
c 27.03.2020	ggu	documentation on ibarcl and nudging
c
c ./fem3d/flxelab1.f:
c 27.04.2020	ggu&ccf	bug fix for handling time step
c
c ./fem3d/subfemfile.f:
c 29.03.2020	ggu	better ntype handling
c
c ./fem3d/shyelab_nodes.f:
! 18.03.2020	ggu&laa	better writing of scalar values
c
c ./fem3d/subfloodfill.f:
! 08.04.2020	ggu	some more error checks
c ./fem3d/grdutil.f:
! 09.04.2020	ggu	new utility routines for setting depth
c
c ./fem3d/newbcl.f:
c 27.03.2020	ggu	cleaned new nudging routines
c
c ./fem3d/suboutput.f:
c 22.04.2020	ggu	write text for info_output
c
c ./fem3d/rst2shy.f:
! 20.03.2020	ggu	adjusted for new routine calls
c
c ./fem3d/suboutputd.f:
c 22.04.2020    ggu     write text for info_output
c
c ./fem3d/offcat.f:
! 28.04.2020	ggu	written for Michol
c
c ./fem3d/subtimeutil.f:
c 03.04.2020	ggu	new routine get_real_time()
c
c ./fem3d/subdts.f:
c 18.05.2020	ggu	new routines weekday() and week_of_year()
c
c ./fem3d/mercury_dummy.f:
! 09.03.2020	ggu	dummy restart routines
!
c ./fem3d/newclose.f:
! 26.03.2020	ggu	set vmax here
! 09.04.2020	ggu	increase non computing elements with ndist
!
c ./fem3d/subutil.f:
! 17.04.2020	ggu	directional conversion routines copied here
c
c ./fem3d/mod_conz.f:
! 20.03.2020	ggu	restart routines introduced
!
c ./fem3d/unitutils.f:
! 18.03.2020	ggu	handle case if no node number is given (j=0)
c
c ./fem3d/subrst.f:
! 09.03.2020	ggu	restart for mercury
! 20.03.2020	ggu	completely restructured
!
c ./femcheck/netcdf/nc_mod.f:
! 12.04.2020    ggu     written from scratch
c ./femcheck/netcdf/nc_include.f:
! 12.04.2020    ggu     written from scratch


06.03.2020

c ./femplot/supbas.f:
c 13.02.2020	ggu	rounding routines into new file subround.f
c
c ./fem3d/subvola.f:
c 16.02.2020    ggu     femtime eliminated
c
c ./fem3d/basutil.f:
! 12.02.2020	ggu	new command line option -reg (and breg)
!
c ./fem3d/shybas.f:
c 13.02.2020	ggu	new routine write_regular_depth() with -reg
c
c ./fem3d/subtime.f:
c 08.02.2020	ggu	utility routines copied to new file
c 16.02.2020	ggu	itunit eliminated
c
c ./fem3d/flxelab1.f:
c 06.03.2020	ggu	check for time step
c
c ./fem3d/sedi3d.f:
! 16.02.2020	ggu	femtime eliminated
c
c ./fem3d/subsss.f:
c 13.02.2020	ggu	rounding routines into new file subround.f
c
c ./fem3d/femelab1.f:
! 03.03.2020	ggu	do not open out.fem if bextract is true
c
c ./fem3d/subflx3d.f:
c 16.02.2020	ggu	femtime eliminated
c 05.03.2020	ggu	do not print flux divergence
c
c ./fem3d/subnsh.f:
c 16.02.2020	ggu	femtime finally eliminated
c
c ./fem3d/suboff.f:
c 17.02.2020	ggu	femtime eliminated
c
c ./fem3d/extelab1.f:
c 03.02.2020	ggu	cleaned, new headers for split
c 06.03.2020	ggu	check for time step
c
c ./fem3d/subtrace.f:
c 16.02.2020	ggu	femtime eliminated
c
c ./fem3d/new36.f:
c 16.02.2020	ggu	femtime eliminated
c
c ./fem3d/newbfm_internal.f:
! 17.02.2020	ggu	femtime eliminated
c ./fem3d/shyelab_util.f:
! 02.02.2020	ggu	update for vorticity
c
c ./fem3d/subtimeutil.f:
c 08.02.2020	ggu	utilities in this new file
c 16.02.2020	ggu	itunit eliminated
c 16.02.2020	ggu	new routines get_time_iterations(), get_ddt()
c
c ./fem3d/mercury.f:
c 17.02.2020	ggu	femtime eliminated
c
c ./fem3d/newini.f:
c 12.02.2020	ggu	better error messages in set_last_layer()
c
c ./fem3d/elabtime.f:
! 06.03.2020	ggu	some enhancements
c ./fem3d/subflxa.f:
c 06.03.2020	ggu	new flux0d, get_barotropic_flux()
c
c ./fem3d/subssed.f:
! 20.02.2020	ggu	new routine compute_bottom_flux()
!
c ./fem3d/subboxa.f:
c 03.02.2020	ggu	revisted 3d box averaging
c 05.02.2020	ggu	bug in box_3d_aver_vertical() corrected
c 07.02.2020	ggu	final version of box file
c
c ./fem3d/subtsuvfile.f:
c 14.02.2020	ggu	new routine ts_file_exists()
c 04.03.2020	ggu	iunit converted to id
c
c ./fem3d/subfemintp.f:
! 03.02.2020	ggu	cleaned, new routine call iff_write_dtime()
! 14.02.2020	ggu	new utility routine iff_file_exists()
!
c ./fem3d/newbcl.f:
c 14.02.2020	ggu	nudging enhanced with reading of tau values
c 05.03.2020	ggu	finished new nudging routines
c
c ./fem3d/subfil.f:
c 03.03.2020	ggu	better error messaging, if error return -1
c
c ./fem3d/subround.f:
! 13.02.2020	ggu	rounding routines in this extra file copied
c
c ./fem3d/suboutputd.f:
c 06.02.2020	ggu	new function function is_first_output_d()
c
c ./fem3d/mod_internal.f:
! 06.03.2020	ggu	custom routine set_fric_max()
c ./fem3d/newpoi.f:
! 16.02.2020    ggu     femtime eliminated
!
c ./fem3d/newclose.f:
! 05.03.2020	ggu	output streamlined, set rfmax here
!
c ./fem3d/subsys.f:
c 16.02.2020	ggu	itunit not supported anymore
c 05.03.2020	ggu	documentation upgraded
c
c ./fem3d/elabutil.f:
! 06.03.2020    ggu     -checkdt also for ext and flx files
!
c ./fem3d/subn35.f:
c 05.03.2020	ggu	documentation upgraded


31.01.2020

c ./fem3d/lgrelab1.f:
c 29.01.2020	ggu	old call to nc_output_record_reg() substituted
c
c ./fem3d/submeteo2.f:
c 27.01.2020	ggu	code to use full ice cover (ballcover)
c
c ./fem3d/shyelab_util.f:
! 28.01.2020	ggu	new code to transfrom trans2vel on element, vorticity
c
c ./fem3d/shyelab1.f:
! 28.01.2020    ggu     new code for vorticity
c
c ./fem3d/shyelab_output.f:
! 28.01.2020	ggu	changes for vorticity
!
c ./fem3d/subshyutil2.f:
! 28.01.2020	ggu	minor changes in error message
c
c ./fem3d/substrings.f:
! 28.01.2020	ggu	new string vorticity
!
c ./fem3d/elab_nc.f:
! 29.01.2020	ggu	always write variables as 3d
c
c ./fem3d/mod_lagrange.f:
! 31.01.2020	ggu	integrated parts from connectivity
c ./fem3d/subcus.f:
c 30.01.2020	ggu	new kreis routines for vorticity checks
c
c ./fem3d/mercury_dummy.f:
! 09.01.2020	ggu	dummy routine written
!
c ./fem3d/netcdf.f:
c 08.01.2020	ggu	allow for double user data
c 29.01.2020	ggu	insert extra information for error message
c
c ./fem3d/elabutil.f:
! 28.01.2020    ggu     new option -vorticity (bvorticity)
!
c ./fem3d/nc_dim_coords.f:
! 08.01.2020	ggu	new values for time description
!
c ./fem3d/subshy.f:
! 28.01.2020	ggu	utility code to change npr
!
c ./fem3d/lagrange_utils.f:
! 31.01.2020	ggu	started from scratch


20.12.2019

c ./fem3d/femelab1.f:
! 13.12.2019    ggu     new option checkrain and routine rain_elab()
c
c ./fem3d/submeteo2.f:
c 09.12.2019    ggu     more documentation
c
c ./fem3d/subtsfile.f:
c 13.12.2019    ggu     return always time in dtime (converting from string)
c
c ./fem3d/subfemintp.f:
! 18.12.2019    ggu     if dtime is absolute do not transform
!
c ./fem3d/subdts.f:
c 18.12.2019    ggu     if dtime is atime do not convert
c
c ./fem3d/subqfxt.f:
c 10.12.2019    ggu     ice cover introduced, handle ice-water sensible heat
c
c ./fem3d/elabutil.f:
! 13.12.2019    ggu     new option checkrain (bcheckrain)


25.11.2019

c ./fem3d/sublnks.f:
c 06.11.2019    ggu     eliminated femtime
c
c ./fem3d/subnsh.f:
c 06.11.2019    ggu     femtime eliminated
c
c ./fem3d/new36.f:
c 06.11.2019    ggu     setimp adapted
c
c ./fem3d/subdry.f:
c 06.11.2019    ggu     eliminated femtime
c
c ./fem3d/newstab.f:
c 06.11.2019    ggu     femtime eliminated
c
c ./fem3d/shyfem.f:
c 06.11.2019    ggu     femelab eliminated


31.10.2019

c ./fem3d/shyelab1.f:
! 22.07.2019    ggu     new routines for handling time step check
c
c ./fem3d/subshyutil.f:
! 27.09.2019	ggu	some lines commented for hydro output (HYD1)
! 17.10.2019	ggu	routines to check number of variables written (nvar_act)
!
c ./fem3d/subtime.f:
c 15.09.2019	ggu	small changes to account for synchorization time step
c
c ./fem3d/substrings.f:
! 10.09.2019	ggu	condense all strings
! 24.10.2019	ggu	new string grainsizep
!
c ./fem3d/sedi3d.f:
! 24.10.2019	ggu	better checking of grainsize percentage in inibed
c
c ./fem3d/femelab1.f:
! 22.07.2019	ggu	new routines for handling time step check
c
c ./fem3d/newbfm_dummy.f:
! 02.10.2019	ggu	dummy routine introduced
c
c ./fem3d/newbfm_internal.f:
! 17.10.2019	ggu	these routines eliminated into own file
c ./fem3d/submeteo2.f:
c 17.10.2019	ggu	check number of meteo variables written
c
c ./fem3d/subbfm.f:
c 17.10.2019	ggu	mark as obsolete
c
c ./fem3d/elabtime.f:
! 21.07.2019	ggu	handle and check time step
c ./fem3d/basutil_resol.f:
! 23.09.2019	ggu	for resolution make histogram
c
c ./fem3d/nc_domain.f:
! 22.10.2019	ggu	check in check_regular_coords() for negative vals
!
c ./fem3d/elab_check.f:
! 23.09.2019	ggu	in fem_check handle case when atime==-1
c ./fem3d/tselab1.f:
! 22.07.2019	ggu	new routines for handling time step check
c
c ./fem3d/newbfm.f:
! 17.10.2019	ggu	restructured and adapted
c ./fem3d/shyfem.f:
c 15.09.2019	ggu	subroutine to test only forcing
c 02.10.2019	ggu	delete include files
c 17.10.2019	ggu	no call to bfm_write, is done inside subroutine
c
c ./fem3d/subcus.f:
c 10.09.2019	ggu	more parameters written in cyano_diana()
c
c ./fem3d/subfind.f:
c 18.10.2019	ggu	cleaned contents
c
c ./fem3d/submask.f:
c 18.10.2019	ggu	cleaned contents
c
c ./fem3d/femtide.f:
! 22.07.2019    ggu     new routines for handling time step check
c
c ./fem3d/subsys.f:
c 27.09.2019	pzy	new variables for aquabc
c 22.10.2019	ggu	some update of documentation
c
c ./fem3d/substress.f:
! 31.10.2019	ggu	introduced bdry, bugfix for wave bottom stress (depth<0)
!
c ./fem3d/elabutil.f:
! 22.07.2019    ggu     new routines for handling time step check
!
c ./fem3d/subshy.f:
! 13.09.2019	ggu	error handling in shy_peek_record
! 17.10.2019	ggu	introduced nvar_act


19.07.2019

c ./fem3d/elab_nc_dummy.f:
! 17.07.2019	ggu	error in calling nc_output_record()
c
c ./fem3d/subshyutil.f:
! 12.07.2019	ggu	some comments for shy_write_scalar_record()
!
c ./fem3d/subn11.f:
c 04.07.2019	ggu	setweg & setznv introduced before make_new_depth
c
c ./fem3d/femelab1.f:
! 17.07.2019	ggu	changes to custom_elab()
c
c ./fem3d/subsrt.f:
c 02.07.2019	ggu	new routines for indirect real sort, locater_all()
c 05.07.2019	ggu	new routine create_permutation()
c
c ./fem3d/suboff.f:
c 04.07.2019	ggu	solved problem for vertical velocity (1 index off)
c
c ./fem3d/new3di.f:
c 04.07.2019	ccf	for offline also compute horizontal diffusion params
c 16.07.2019	ggu	rmsdiff was not set to 0 (bug)
c
c ./fem3d/subfifo.f:
! 04.07.2019    ggu     written from scratch
c ./fem3d/subww3.f:
! 04.07.2019    ggu     written from scratch
c ./fem3d/bio3d.f:
c 12.07.2019	ggu	2d output done with shy_write_scalar_record2d()
c
c ./fem3d/tselab1.f:
! 12.07.2019	ggu	-date0 takes precedence with internal date
c
c ./fem3d/shyfem.f:
c 04.07.2019	ggu	new ww3 routines introduced
c
c ./fem3d/subsys.f:
c 04.07.2019	ggu	new description for WW3
c
c ./fem3d/subshy.f:
! 12.07.2019	ggu	some changes to shy_info()


02.07.2019

c ./fem3d/subfvl.f:
c 01.07.2019    ggu     not writing file anymore
c
c ./fem3d/new3di.f:
c 02.07.2019    ggu     switched completely to penta solver


21.05.2019

c ./femplot/colutils.f:
! 13.03.2019    ggu     changed VERS_7_5_61
c ./femplot/suplin.f:
c 16.05.2019    ggu     wrong call to insert_between_layers()
c
c ./femplot/supiso.f:
c 14.03.2019    ggu     allow for plotting constant element value
c
c ./fem3d/rstinf.f:
! 03.05.2019    ggu     adapted
c
c ./fem3d/elab_nc.f:
! 14.05.2019    ggu     changes in nc_output_record()
! 16.05.2019    ggu     new aux variable to write nc_records (rncaux)
! 16.05.2019    ggu     also hydro output fixed
c
c ./fem3d/femelab1.f:
! 24.04.2019    ggu     write also fem file for extracted node
! 24.04.2019    ggu     correct regpar if lon > 180
c
c ./fem3d/subreg.f:
c 14.05.2019	ggu	in fm_extra_setup() use double precision
c
c ./fem3d/shyelab_output.f:
! 14.05.2019    ggu     for nc_output use interpolated values, allow ivar=1
! 16.05.2019    ggu     write regular grid information
!
c ./fem3d/subclo.f:
! 15.05.2019    ggu     nicer error reporting
!
c ./fem3d/new3di.f:
c 16.04.2019    ggu	introduced rcomputev for excluding elements (rcomp)
c
c ./fem3d/mod_arrays.f:
! 14.03.2019	ggu	written from scratch
! 12.04.2019	ggu	added double precision
c ./fem3d/rst2shy.f:
! 03.05.2019    ggu     written from rstinf.f
c
c ./fem3d/gotm3d.f:
! 13.03.2019	ggu	changed VERS_7_5_61
c ./fem3d/elab_regular.f:
! 16.05.2019    ggu     new routine fem_reg_print()
c
c ./fem3d/bc2fem.f:
! 13.03.2019	ggu	changed VERS_7_5_61
c
c ./fem3d/tselab1.f:
! 15.05.2019	ggu	new option -date0
! 16.05.2019	ggu	use sdate0 for date string
c
c ./fem3d/subcus.f:
c 16.04.2019	ggu	small changes in close_inlets1() (bfill)
c
c ./fem3d/shyelab_extract.f:
! 24.04.2019    ggu     written from scratch
!
c ./fem3d/nc2fem.f:
! 23.04.2019    ggu     bug fix in parse_strings - n was changed
!
c ./fem3d/subrst.f:
! 03.05.2019    ggu     return iconz in rst_skip_record()
! 03.05.2019    ggu     new routine to check if rst file (rst_is_rst_file)
!
c ./fem3d/netcdf.f:
c 14.05.2019    ggu	wrong definition of dimensions in nc_write_data_3d_reg
c 16.05.2019    ggu	new version of nc_rewrite_3d_reg(), new nc_set_quiet()
c
c ./fem3d/mod_internal.f:
! 11.04.2019	ggu	added rcomputev
c ./fem3d/subdef.f:
c 03.05.2019    ggu     new routines to get extension and name
c
c ./fem3d/newclose.f:
! 14.03.2019	ggu	re-written for new framework
! 12.04.2019	ggu	first finished draft
! 17.04.2019	ggu	tested on old venlag62
!
c ./fem3d/subwrt.f:
c 29.04.2019	ggu	fix computation for too low concentrations (climit)
c
c ./fem3d/elabutil.f:
! 15.05.2019	ggu	new option -date0 (sdate0)


13.03.2019

c ./femplot/supsim.f:
c 13.03.2019    ggu	in plobas use parameters from STR file
c
c ./fem3d/subnls.f:
c 12.03.2019	ggu	before namelist read clean arrays
c
c ./fem3d/subn11.f:
c 06.03.2019    mbj     added tramp = -2, (average, Bajo et al., 2019)
c
c ./fem3d/femelab1.f:
! 01.03.2019    ccf     lmax in function of considered var (needed for split)
c
c ./fem3d/subscn.f:
! 20.02.2019	ggu	bug fix in ialfa (rounding, CHRIS)
!
c ./fem3d/subpar3.f:
c 12.03.2019    ggu     new routine para_clean_section(()
c
c ./fem3d/shyfem.f:
c 12.03.2019    ccf	include new computation of tide potential/analysis
c
c ./fem3d/subtide.f:
! 18.02.2019	ccf	inclued more constituents
!
c ./fem3d/femtide.f:
! 12.03.2019	ccf	written from scratch
c
c ./fem3d/subwrt.f:
c 12.03.2019	ggu	bug fix if no custom data is given (only idtwrt)
c
c ./fem3d/subsys.f:
c 13.03.2019	ggu	new variables for plotting basin
c
c ./fem3d/subn35.f:
c 12.03.2019    mbj     new friction ireib=10


16.02.2019

c ./fem3d/substrings.f:
! 16.02.2019    ggu     populate_strings declared as recursive
!
c ./fem3d/sedi3d.f:
! 15.02.2019    ccf     pass PHIB,PHI100 into nonco (bug)


14.02.2019

c ./fem3d/debug.f:
c 02.02.2019    ggu     new routines is_inf, is_nonumber, adjourned is_nan
c
c ./fem3d/sedi3d.f:
! 03.02.2019    ggu     adjust z0 etc (GGUZ0)
! 05.02.2019    ggu     upgraded to new version from chris
! 14.02.2019    ggu     set negative conz values to 0
c
c ./fem3d/newcon_omp.f:
c 01.02.2019    ggu     bug fix for conz==0 with negative loading
c 14.02.2019    ggu     bug fix for conz<0 with negative loading
c
c ./fem3d/subboxa.f:
c 07.02.2019    ggu     code revised, easy addition of other vars
c
c ./fem3d/sedtrans05.f:
! 01.02.2019	ggu	loop 220 in sub depos cleaned
! 03.02.2019	ggu	sanity checks (GGUZ0)
! 14.02.2019	ggu	more sanity checks (GGUZ0)
c
c ./fem3d/shyfem.f:
c 12.02.2019    ccf	bottom shear stress in substress.f
c
c ./fem3d/shyelab_output.f:
! 10.02.2019    ggu     write final message for -averbas
!
c ./fem3d/subele.f:
c 03.02.2019    ggu     in setdepth check for zero layer thickness
c
c ./fem3d/newcon.f:
c 14.02.2019    ggu     check for negative scalar
c
c ./fem3d/subfemintp.f:
! 07.02.2019	ggu	new routine for debug on bound files
!
c ./fem3d/subgotm.f:
c 03.02.2019    ggu     in gotm_shell check for 0layer and z0s/bmin (GGUZ0)
c
c ./fem3d/subtime.f:
c 09.02.2019    ggu     bug fix for syncronization of last time step
c
c ./fem3d/subsys.f:
c 12.02.2019	ccf	introduced ibstrs for computing the bottom stess
c
c ./fem3d/subwrt.f:
c 07.02.2019	ggu	for custom reset allow iso date
c
c ./fem3d/subwaves.f:
! 01.02.2019	ggu	bug fix in parwaves: do not compute H/P for wind == 0
! 10.02.2019	ggu	bug fix for FPE (GGUZ0)
! 12.02.2019	ccf	stress computed in substress.f
!
c ./fem3d/subdates.f:
! 13.02.2019    ggu     isolated from more subroutines


18.01.2019

c ./fem3d/new3di.f:
c 18.01.2019    ggu	finished implementing and testing penta solver
c
c ./fem3d/sublp.f:
c 04.01.2019    ggu     linpack and blas routines transfered


21.12.2018

c ./fem3d/new3di.f:
c 19.12.2018    ggu	error in experimental code with penta solver


18.12.2018

c ./hcbs/xhcbs.f:
! 29.10.2018    ggu     new copyright added
!
c ./femplot/suptim.f:
c 18.12.2018  ggu     inlude file substituted with module timlim
c
c ./fem3d/newnohydro.f:
c 18.12.2018    dbf&wjm adapted to last version and inserted in develop
c
c ./fem3d/newnudge.f:
c 23.11.2018    ggu     new routines to read and interpolate time series
c
c ./fem3d/suboff.f:
c 12.11.2018    ggu     linear arrays introduced
c
c ./fem3d/elab_off.f:
! 12.11.2018    ggu     linear arrays introduced
c
c ./fem3d/intp.f:
c 23.11.2018    ggu     new routines to read and interpolate time series
c
c ./fem3d/subext.f:
c 09.11.2018    ggu     more general version of linear routines
c
c ./fem3d/subfemintp.f:
! 23.11.2018    ggu     new routines to read and interpolate time series
! 23.11.2018    ggu     some sanity checks
!
c ./fem3d/sub2linear.f:
! 09.11.2018    ggu     written from scartch
! 11.11.2018    ggu     some bug fixes, extension to double
! 12.11.2018    ggu     utility routines for easy reading/writing
!
c ./fem3d/subshy.f:
! 09.11.2018    ggu     linear routines implemented for compiler warning
!
c ./post/colorbar.f:
! 29.10.2018    ggu     new copyright added


25.10.2018

c ./femplot/plotutil.f:
! 19.10.2018	ccf	handle lgr files
!
c ./fem3d/shybas.f:
c 25.10.2018    ccf     grid output in gr3 and msh formats
c
c ./fem3d/elab_nc.f:
! 25.10.2018    ccf     write field already on regular grid
c
c ./fem3d/subgrd.f:
c 25.10.2018    ccf     grid output in gr3 and msh formats
c
c ./fem3d/subrst.f:
! 25.10.2018    ggu     bug fix with finding desired record
!
c ./fem3d/elabutil.f:
! 25.10.2018	ccf	lagrangian options


16.10.2018

c ./fem3d/newcon_omp.f:
c 11.10.2018    ggu     code adjusted for sediment deposition (negative loads)
c
c ./fem3d/subshyutil.f:
! 27.09.2018    ggu     new routines for writing constant layer structure
!
c ./fem3d/subn11.f:
c 11.10.2018    ggu     zconst setting adjourned
c
c ./fem3d/subqfxm5.f:
! 05.10.2018    ggu     do not compute Ch and Ce (not needed, divide by 0)
c
c ./fem3d/submeteo2.f:
c 03.10.2018    ggu	better output of meteo variables (output_meteo_data)
c
c ./fem3d/newcon.f:
c 11.10.2018    ggu     caux substituted with load,cobs,rtauv (bug inout)
c
c ./fem3d/subtsfile.f:
c 15.10.2018    ggu     set nvar=0 in ts_get_file_info() to avoid segfault
c
c ./fem3d/shyelab_nodes.f:
! 15.10.2018    ggu     added option -coord (bcoord,scoord)
c
c ./fem3d/newbcl.f:
c 05.10.2018    ggu     new diagnostic routine ts_dia()
c
c ./fem3d/suboutputd.f:
c 03.10.2018    ggu     some instances of itanf and itend eliminated
c
c ./fem3d/debug.f:
c 05.10.2018    ggu     eliminated equivalent statement
c
c ./fem3d/subdef.f:
c 05.10.2018    ggu     avoid run time error in subst_extension()
c
c ./fem3d/subwrt.f:
c 05.10.2018	ggu	before calling dep3dele() set nlev


31.08.2018

c ./fem3d/shyelab_proj.f:
! 20.07.2018    dbf     projection routines for shyelab
c
c ./fem3d/shyelab1.f:
! 20.07.2018    dbf     inserted option for projection
c
c ./fem3d/subext.f:
c 30.08.2018	ggu	new version 8 to avoid implicit do


06.07.2018

c ./femplot/shyplot.f:
! 07.06.2018    pzy     new module plot_fonts for font size definition
!
!
c ./femplot/supcust.f:
! 07.06.2018    ggu     new file for customization from Petras
! 07.06.2018    pzy     font size definitions
!
c ./fem3d/nc_tutil.f:
! 03.07.2018    ggu     revision control introduced
!
c ./fem3d/subnls.f:
c 13.05.2018    ggu     bug fix in nls_copy_isctable()
c
c ./fem3d/subshyutil.f:
! 24.05.2018    ccf     bug fix exchanging nlvdi with nlv ($BUGNLV)
! 03.07.2018    ggu     in shy_write_output_record() handle 2d arrays
!
c ./fem3d/nc_dim_coords.f:
! 03.07.2018    ggu     revision control introduced
!
c ./fem3d/subn11.f:
c 01.06.2018    mbj     added tramp for sea level boundary condition
c
c ./fem3d/subreg.f:
c 18.05.2018    ggu     more checks on fr routines, introduced ierr, bextend
c 26.05.2018    ggu     even more checks and debug output
c
c ./fem3d/shyelab_output.f:
! 24.05.2018    ccf     add outformat option off
!
c ./fem3d/elab_off.f:
! 24.05.2018    ccf     written from scratch
c
c ./fem3d/nc_util.f:
! 03.07.2018    ggu     revision control introduced
c
c ./fem3d/newcon.f:
c 30.05.2018    ggu     better debug output in conzstab (idtstb,itmstb)
c 01.06.2018    ggu     stability of scalar revised - aa > 0 possible again
c 01.06.2018    ggu     implicit nudging (relaxation) (ANT)
c
c ./fem3d/shyutil.f:
! 12.06.2018    ggu     bug fix for area in make_aver_3d()
!
c ./fem3d/nc_domain.f:
! 03.07.2018    ggu     revision control introduced
!
c ./fem3d/subfemintp.f:
! 26.05.2018    ggu     bug fix in regular 2d/3d interpolation
! 06.06.2018    ggu     in iff_init use dtime==-1 to not populate data
! 08.06.2018    ggu     do not populate if no file (bug fix)
!
c ./fem3d/subgrd.f:
c 06.07.2018    ggu     new handling of line reading routines: read_all_lines()
c
c ./fem3d/nc2fem.f:
! 03.07.2018    ggu     revision control introduced
! 04.07.2018    ggu     single points introduced
!
c ./fem3d/subrst.f:
! 30.05.2018    ggu     some time values now in double
! 31.05.2018    ggu     new version (11), all time values in double
! 28.06.2018    mbj     bug fix for version 11
!
c ./fem3d/elabutil.f:
! 24.05.2018    ccf     add outformat option off
! 06.06.2018    ggu     new calling format of shy_write_aver()


11.05.2018

c ./fem3d/shyelab1.f:
! 11.05.2018    ggu     call shympi_init later (after basin)
c
c ./fem3d/newcon_omp.f:
c 11.05.2018    ggu     compute only unique nodes (needed for zeta layers)
c
c ./fem3d/subshyutil.f:
! 11.05.2018    ggu     bug fix and hydro init, use global layer number
!
c ./fem3d/mod_shympi_dummy.f:
! 11.05.2018    ggu     new function calls for global values and internal pointers
!
c ./fem3d/subousa.f:
c 11.05.2018	ggu	mpi version working also for zeta levels
c
c ./fem3d/subnsh.f:
c 11.05.2018    ggu     semi.h deleted and substituted with module
c
c ./fem3d/mod_shympi_node_internal.f:
! 11.05.2018    ggu     bug fix in exchange arrays for zeta levels
!
c ./fem3d/newini.f:
c 11.05.2018    ggu	new routine exchange_vertical() to compute global nlv,hlv
c
c ./fem3d/newcon.f:
c 11.05.2018    ggu     compute only unique nodes (needed for zeta layers)
c
c ./fem3d/mod_shympi_node.f:
! 11.05.2018    ggu     changes in global variables and exchange_arrays()
!
c ./fem3d/subn35.f:
c 26.04.2018    ggu     area code adjusted for mpi


26.04.2018

c ./fem3d/subcoo.f:
c 23.04.2018    ggu     new matrix type
c
c ./fem3d/subspk.f:
c 22.04.2018    ggu	eliminated redundant use and variables
c 24.04.2018    ggu	pass matrix into routines
c
c ./fem3d/simsys_spkmpi.f:
! 21.04.2018	ggu	started with mpi version
c
c ./fem3d/basutil_part.f:
! 20.04.2018    ggu     code added to check partition integrity
c
c ./fem3d/simsys_spk.f:
! 23.04.2018	ggu	adapted to new matrix type (local and global matrix)
!
c ./fem3d/newcon.f:
c 23.04.2018    ggu     exchange mpi inside loop for istot>1
c
c ./fem3d/mod_system.f:
! 23.04.2018    ggu	new framework - introduced matrix type


19.04.2018

c ./fem3d/shypre.f:
c 13.04.2018    ggu     accepts partition to write bas file with node partition
c
c ./femplot/supiso.f:
c 18.04.2018    ggu     use bplot to decide what element to plot
c
c ./femplot/supout.f:
c 18.04.2018  ggu     set up bkplot (node to be plotted)
c
c ./femplot/supbas.f:
c 18.04.2018  ggu     use also bkplot to decide what part of boundary to plot
c
c ./fem3d/basutil.f:
! 13.04.2018	ggu	new routine for partitioning
!
c ./fem3d/subshyutil.f:
! 10.04.2018    ggu     prepare for mpi version (collect array and write)
! 11.04.2018    ggu     bug fix and hydro write
!
c ./fem3d/shybas.f:
c 04.04.2018    ggu     new code for real area (m) and explicit stability
c 04.04.2018    ggu     new code for nodal partition check and write
c 13.04.2018    ggu     new routine to elab partition and write to file
c
c ./fem3d/subtime.f:
c 13.04.2018    ggu     hydro_stability includes explicit gravity wave
c 13.04.2018    ggu     set_timestep now is working with mpi
c 16.04.2018    ggu     write warning if time step is over recommended one
c
c ./fem3d/subn11.f:
c 04.04.2018    ggu     initialization for zeta revised for mpi
c
c ./fem3d/basutil_part.f:
! 16.04.2018    ggu     partitioning finished
c
c ./fem3d/mod_shympi_dummy.f:
! 10.04.2018    ggu     adjourned with new function calls
!
c ./fem3d/subousa.f:
c 11.04.2018	ggu	mpi version is ready and working
c
c ./fem3d/mod_shympi_node_internal.f:
! 10.04.2018    ggu     code to exchange arrays
!
c ./fem3d/subscn.f:
! 10.04.2018	ggu	ialfa now handles ndec < -1 gracefully
!
c ./fem3d/newstab.f:
c 13.04.2018    ggu	re-structured, included gravity wave stability
c 16.04.2018    ggu	use also ilin to compute stability
c
c ./fem3d/mod_shympi_node.f:
! 04.04.2018    ggu     new routine shympi_exit
! 04.04.2018    ggu     bug fix on scalar reduction (argument was changed)
! 10.04.2018    ggu     code to exchange arrays
!
c ./fem3d/subwrt.f:
c 16.04.2018	ggu	restructured, new computation of WRT (see WRTOLD)
c 18.04.2018	ggu	restructured, some bugs fixed
c
c ./fem3d/subshy.f:
! 10.04.2018    ggu     allow for file to be initialized but not opened


03.04.2018

c ./fem3d/subtime.f:
c 23.02.2018    ggu     most parts converted from int to double
c 29.03.2018    ggu     bug fix for syncronization step
c
c ./fem3d/subflx.f:
c 03.03.2018	ggu	determine nvar for versions < 6
c
c ./fem3d/subflxa.f:
c 27.03.2018    ggu     new code for generic flux handling (fluxes_generic())
c
c ./fem3d/optintp.f:
c 26.03.2018	ggu	completely restructured for model driven obs
c
c ./fem3d/subtsuvfile.f:
c 25.02.2018    ggu	file cleaned - time is now double
c
c ./fem3d/suboi.f:
c 26.03.2018	ggu	some parameters are now arrays (sigma,rr)


22.01.2018

c ./femplot/supsim.f:
c 13.02.2018    ggu     new routine for plotting boxes (plobox)
c
c ./fem3d/sedtrans05.f:
! 22.02.2018    ccf     bug fix for TAUCD (wrong formula, look for TAUCD=)
c
c ./fem3d/sedi3d.f:
! 22.02.2018    ccf     adjusted for new sinking velocity
c
c ./fem3d/femcombine.f:
! 30.01.2018    ggu     written with new fem_util module
c
c ./fem3d/newcon.f:
c 03.02.2018    ggu     sindex did not use rstol for stability
c
c ./fem3d/subboxa.f:
c 15.02.2018    ggu     code checked and error debug (is running)
c
c ./fem3d/subflxu.f:
c 04.02.2018    ggu     new routines with accumulator in double
c
c ./fem3d/subfemutil.f:
c 30.01.2018    ggu     new routine for combining records
c
 * ./grid/gridhs.c:
 * 16-Feb-2018: in checking area consider LatLon                        *


24.01.2018

c ./fem3d/shypart.f:
C 16.12.2017    ggu     started from scratch


05.12.2017

c ./fem3d/subexta.f:
c 22.11.2017    ccf     write also waves and sediment concentration
c
c ./fem3d/subreg.f:
c 04.12.2017	ggu	check t,u values and correct if out of bounds
c
c ./fem3d/lagrange_inout.f:
c 27.11.2017    ggu	inserted code to start from lgr files
c
c ./femutil/dstruc/hash.f:
c 22.11.2017	ggu	new framework finished


17.11.2017

c ./fem3d/shypre.f:
c 17.11.2017    ggu     implement output switches (quiet,silent,etc..)
c
c ./fem3d/subflxa.f:
c 17.11.2017    ggu     sediment output adapted to new framework
c
c ./fem3d/subiso8601.f:
! 15.11.2017    ggu     better time parsing, understands UTC and Z


14.11.2017

c ./femplot/shyplot.f:
! 14.11.2017    ggu     shyplot unified and simplified for output
c
c ./fem3d/shyelab.f:
c 04.11.2017    ggu     new functionality tselab
c
c ./fem3d/shyproj.f:
! 08.11.2017    ggu     save nodal depth for nodes without element


04.11.2017

c ./fem3d/subtime.f:
c 20.10.2017    ggu     new get_absolute_act_time(),get_absolute_ref_time()
c
c ./fem3d/subnls.f:
c 26.10.2017	ggu	new isctable read (multiple numbers + description)
c
c ./fem3d/weutro_wdia.f:
c 10.10.2017    dmk&laa written from scratch
c 26.10.2017    ggu     integrated into main trunk
c
c ./fem3d/subexta.f:
c 20.10.2017    ggu     new framework - read also table with strings
c
c ./fem3d/subn35.f:
c 03.11.2017    mbj     new documentation for ireib
c
c ./fem3d/subflxa.f:
c 26.10.2017    ggu     reads itable, chflx and section description
c
c ./fem3d/flxelab1.f:
c 26.10.2017    ggu     various user related improvements, new flx subroutines
c
c ./fem3d/extelab1.f:
c 20.10.2017    ggu     write time in string format
c 26.10.2017    ggu     various user related improvements
c
c ./fem3d/suboutputd.f:
c 04.11.2017    ggu     new routine init_output_i()
c
c ./fem3d/subcon1.f:
c 03.11.2017	ggu	new routines to write shy files scalar_output_*()
c
c ./fem3d/subscn.f:
! 03.11.2017	ggu	bug fix -> tab was char(8), restructured with module
!
c ./fem3d/subext.f:
c 20.10.2017	ggu	completely restructured for version 7


09.10.2017

c ./fem3d/shyelab1.f:
! 07.10.2017    ggu     new names for -split option of hydro file
c
c ./fem3d/substrings.f:
! 07.10.2017    ggu     short name introduced, new generic routines
!
c ./fem3d/subclo.f:
! 09.10.2017    ggu     new routine to access last file
!
c ./fem3d/shyelab_average.f:
! 07.10.2017    ggu     started
c
c ./fem3d/sigmautil.f:
c 07.10.2017	ggu	substitute get_bottom_of_layer with get_depth_of_layer
c
c ./fem3d/shyelab_nodes.f:
! 07.10.2017    ggu     restructured
c
c ./fem3d/subgeo.f:
c 07.10.2017	ggu	new routine c2p_ocean()
c
c ./fem3d/extelab1.f:
c 09.10.2017    ggu     consistent treatment of output files
c
c ./fem3d/elabutil.f:
! 09.10.2017	ggu	new options, more uniform treatment


05.10.2017

c ./fem3d/shyelab1.f:
! 05.10.2017    ggu     implement silent option
c
c ./fem3d/subclo.f:
! 05.10.2017    ggu     new routines to hide options
!
c ./fem3d/shyfem.f:
c 05.10.2017    ggu	command line options introduced, subs rearranged
c
c ./fem3d/extelab1.f:
c 05.10.2017    ggu     implement quiet, silent option, write dir
c
c ./fem3d/subcst.f:
c 05.10.2017    ggu     cstfile called with file name
c
c ./fem3d/subnev.f:
c 05.10.2017	ggu	verbose flag introduced
c
c ./fem3d/subext.f:
c 05.10.2017	ggu	file 7 substituted with EXT file in output
c
c ./fem3d/elabutil.f:
! 05.10.2017	ggu	options rearranged, some only for SHY file


26.09.2017

c ./fem3d/weutro_seed.f:
c 26.09.2017	ggu     adjourned to new module framework (segfault)
c
c ./fem3d/subshyutil.f:
! 26.09.2017    ggu     limit written layers to min(nlv,nlvdi)


02.09.2017

c ./fem3d/femelab.f:
! 31.08.2017    ggu     new flag -grd to write grd from fem file
c
c ./fem3d/substrings.f:
! 31.08.2017    ggu     deleted old versions of subroutines
!
c ./fem3d/subfemutil.f:
c 31.08.2017    ggu     started from scratch


11.07.2017

c ./fem3d/subrst.f:
! 06.07.2017    ggu     saved hlv
!
c ./fem3d/subproj.f:
! 10.07.2017    ggu     new projection LCC
!
c ./fem3d/shyproj.f:
! 10.07.2017    ggu     new projection LCC


13.06.2017

c ./fem3d/subsys.f:
c 26.05.2017	ggu	default of ishyff is 1 - no nos or ous files


25.05.2017

c ./fem3d/femelab.f:
! 16.05.2017    ggu&mbj better handling of points to extract
c
c ./fem3d/subreg.f:
c 23.05.2017	ggu	file split into subreg, submask and subfind


16.05.2017

c ./fem3d/subtsfile.f:
c 15.05.2017    ggu     new version to also read time string
c
c ./fem3d/subiso8601.f:
! 10.05.2017    ggu     started
! 15.05.2017    ggu     finished
!
c ./fem3d/subscn.f:
c 15.05.2017	ggu	bug fix in istod -> do not change ioff on error
c
c ./fem3d/shyelab1.f:
! 11.05.2017    ggu     use catmode to concatenate files


09.05.2017

c ./fem3d/netcdf.f:
c 21.04.2017    ggu	some more utility routines
c
c ./fem3d/subfemintp.f:
! 23.04.2017	ggu	prepared for regular grid BC interpolation
!
c ./fem3d/subscn.f:
c 15.04.2017	ggu	new routines istot
c
c ./fem3d/subdef.f:
c 09.05.2017    ggu     add_extension renamed to subst_extension, new add_extension
c
c ./fem3d/subssed.f:
! 09.05.2017	ggu	some bugs fixed
!
c ./fem3d/subreg.f:
c 23.04.2017	ggu	new routine intp_reg_single_nodes()
c
c ./fem3d/subn35.f:
c 09.05.2017    ggu     bug fix for computing bottom stress


13.04.2017

c ./fem3d/subwaves.f:
! 12.04.2017    ggu     routines integrated to compute bottom stress, new module
!
c ./fem3d/subpar3.f:
c 13.04.2017    ggu     new array feature
c
c ./fem3d/newconz.f:
c 13.04.2017    ggu     contau deprecated... use taupar (array)
c
c ./fem3d/subn35.f:
c 10.04.2017    ggu     compute cd, normalized bottom stress and bottom stress
c
c ./fem3d/subbnd.f:
c 13.04.2017    ggu     use array feature of para for kbound


31.03.2017

c ./femplot/supsim.f:
c 21.03.2017    ggu     new parameter valmax introduced
c
c ./femplot/shyplot.f:
! 14.02.2017    ggu     bug fix in plotting regular fem files - introduced il
c
c ./fem3d/elabutil.f:
! 21.03.2017    ggu     mode renamed to avermode
! 23.03.2017    ccf     line routines introduced
!
c ./fem3d/subflxu.f:
c 30.03.2017    ggu     changed accumulator to time step dt, not number of calls
c
c ./fem3d/basutil.f:
! 21.03.2017    ggu     new flag area to compute area/vol on area code
!
c ./fem3d/ouselab1.f:
c 21.03.2017    ggu     mode to avermode, min/max now working (new initialization)
c
c ./fem3d/new3di.f:
c 24.03.2017    ggu     new treatment for afix in sp256v_intern()
c
c ./fem3d/subnev.f:
c 29.03.2017    ggu     xi2xy changed to correct for small det
c
c ./fem3d/suboff.f:
c 29.03.2017    ggu     bug fix - input file opened on unit 1
c
c ./fem3d/shybas.f:
C 21.03.2017    ggu     new routine to compute area/vol on area code
c
c ./fem3d/shyutil.f:
! 21.03.2017    ggu     use new values for initialization of accum
! 21.03.2017    ggu     computation of std revised (no NaNs)


13.02.2017

c ./fem3d/subver.f:
c 13.02.2017	ggu	version 7.5.23
c
c ./fem3d/subnsa.f:
c 02.02.2017	ggu	nlsa simplified
c
c ./fem3d/subshyutil.f:
! 02.02.2017    ggu     new routine shy_print_descriptions()
c
c ./fem3d/sedi3d.f:
c 10.02.2017    ggu     read in init data from fem files
c
c ./fem3d/subgrd.f:
c 10.02.2017    ggu     bug fix: do not allocate at least 1 array element
c
c ./fem3d/newconz.f:
c 13.02.2017    mic     idecay has new meaning!!! (incompatible)
c
c ./fem3d/subssed.f:
! 03.02.2017	ggu	old routine copied from subcus.f


02.02.2017

c ./fem3d/subnsa.f:
c 02.02.2017	ggu	nlsa simplified
c
c ./fem3d/subshyutil.f:
! 02.02.2017    ggu     new routine shy_print_descriptions()


12.01.2017

c ./fem3d/submeteo2.f:
c 12.01.2017    ccf	bug fix in determining pressure units


08.11.2016

c ./femplot/suplin.f:
c 27.10.2016    ccf     use hkv for smooth bottom
c
c ./fem3d/subflxu.f:
c 26.10.2016    ccf     bug fix in flxsec
c
c ./fem3d/newcon.f:
c 20.10.2016    ccf     pass rtauv for differential nudging
c
c ./fem3d/newstab.f:
c 20.10.2016    ccf     pass rtauv for differential nudging
c
c ./fem3d/subcus.f:
c 21.10.2016	ccf	set ttauv and stauv for med-mar-bla
c
c ./fem3d/newcon_omp.f:
c 20.10.2016    ccf     pass rtauv for differential nudging


04.11.2016

c ./femplot/shyplot.f:
! 31.10.2016    ggu     shyplot restructured... directional plot still broken
c
c ./fem3d/femelab.f:
! 31.10.2016    ggu     new flag condense (bcondense)
c
c ./fem3d/subres.f:
c 31.10.2016    ggu     new output format in rms files
c
c ./fem3d/newtvd.f:
c 31.10.2016	ggu	initialization made faster
c
c ./fem3d/new3di.f:
c 31.10.2016    ggu	parallel part modified
c
c ./fem3d/subwrt.f:
c 31.10.2016	ggu	new output format for wrt files


11.10.2016

c ./fem3d/femelab.f:
! 11.10.2016    ggu     introduced flag for min/max/med computation
c
c ./fem3d/subfemintp.f:
! 11.10.2016	ggu	new routine iff_extend_vertically() for reg interp


05.10.2016

c ./fem3d/femelab.f:
! 04.10.2016    ggu     output flags now similar to shyelab
! 05.10.2016    ggu     allow for expansion of regular grid
c
c ./fem3d/elab_regular.f:
! 05.10.2016    ggu     routines dealing with regular field copied to own file
c
c ./fem3d/shyelab_output.f:
! 05.10.2016    ggu     routines dealing with regular field copied to own file
!
c ./fem3d/bio3d.f:
c 05.10.2016    ggu     init conditions can now be set from file (bioin,biosin)
c
c ./fem3d/subfemfile.f:
c 05.10.2016	ggu	routine to clean data from NaNs
c
c ./fem3d/shyutil.f:
! 05.10.2016    ggu     use zeps for computing volumes


29.09.2016

c ./femplot/supano.f:
c 13.09.2016  ggu     old legend deleted, new keyword ctxt for centering
c
 * ./post/psgraphf.c:
 * 14-Sep-2016: code to ignore underscore				*
c ./fem3d/subbas.f:
c 23.09.2016	ggu	new routines to check if basin has been read
c
c ./fem3d/subreg.f:
c 23.09.2016	ggu	allow for eps in computing box and reg intp
c
c ./fem3d/submeteo2.f:
c 16.09.2016    ggu	allow for Pa and mbar in pressure
c
c ./fem3d/shyelab_output.f:
! 23.09.2016    ggu     expand routine written
!
c ./fem3d/bio3d.f:
c 14.09.2016    ggu     small bug fix for shy output
c 16.09.2016    dmc     comments on eseed. Seeding is set in weutro_seed.f
c
c ./fem3d/subtime.f:
c 23.09.2016    ggu     cleaned set_timestep()


14.09.2016

c ./femplot/supano.f:
c 13.09.2016  ggu     old legend deleted, new keyword ctxt for centering
c
 * ./post/psgraphf.c:
 * 14-Sep-2016: code to ignore underscore				*
c ./fem3d/bio3d.f:
c 14.09.2016    ggu     small bug fix for shy output


09.09.2016

c ./fem3d/elabutil.f:
! 08.09.2016	ggu	new options -map, -info, -areas, -dates
!
c ./fem3d/subvintp.f:
c 28.06.2016    ggu     bug fix: handel situation with dh == 0
c
c ./fem3d/newfix.f:
c 13.07.2016    ivf     bug fix setting up ielfix

c ./fem3d/noselab1.f:
c 08.09.2016    ggu     some minor changes, map_influence, custom dates
c
c ./fem3d/shyelab1.f:
! 08.09.2016    ggu     custom dates, map_influence
c
c ./fem3d/newconz.f:
c 08.09.2016    ggu     new decay function implemented (chapra), cleaned
c
c ./fem3d/submeteo2.f:
c 23.07.2016    ivf	new heat formulation for iheat==8
c 09.09.2016    ggu	new variable ihtype to choose between rh, wbt, dpt
c
c ./fem3d/newbfm.f:
c 28.06.2016    ggu         initialize bfmv, new routine bfm_check()
c
c ./fem3d/subqfxu1.f:
c 09.09.2016    ggu     new routine convert_vapor_content()
c
c ./fem3d/shyutil.f:
! 08.09.2016    ggu     new flag bforce to force output


27.06.2016

c ./fem3d/subfemintp.f:
! 23.06.2016	ggu	tested usage of pointer
!
c ./fem3d/subssv.f:
c 19.06.2016    ggu	new routine aver, some other routines deleted
c
c ./fem3d/weutro_seed.f:
c 17.06.2016	dmk	last changes integrated
c
c ./fem3d/weutro.f:
c 17.06.2016    dmc     deleted rlux, link for shyfem 7_5_13
c
c ./fem3d/subreg.f:
c 23.06.2016	ggu	allow for eps in computing box
c
c ./fem3d/bio3d.f:
c 17.06.2016    dmc     light from shyfem get_light (Watt/m2) 
c 17.06.2016    dmc     link to shyfem 7_5_13 
c 23.06.2016    ggu     bug fix: forgot to initialize eload
c
c ./fem3d/subshy.f:
! 17.06.2016    ggu     inserted error check for compatibility
!
c ./fem3d/newbcl.f:
c 27.06.2016    ggu     bug fix: irho was not saved


17.06.2016

c ./femplot/col.f:
c 15.06.2016    ggu     adjcoltab deleted
c
c ./femplot/supano.f:
c 17.06.2016  ccf     include kn units and correct date/time for tzshow
c
c ./fem3d/newnohydro.f:
c 17.06.2016    ggu&wjm adapted to new version
c
c ./fem3d/subnsh.f:
c 16.06.2016    wjm     added check for section nonhyd 
c
c ./fem3d/subfemintp.f:
! 16.06.2016	ggu	new routine to check nvar: iff_get_file_nvar()
!
c ./fem3d/arc/newnohydro_real.f:
c 15.06.2016    wjm     modified
c
c ./fem3d/mod_hydro_print.f:
! 17.06.2016    ggu     wprv is now from 1:nlv
c
c ./fem3d/newtra.f:
c 17.06.2016	ggu	adjust code to reflect that wprv now starts from 1


14.06.2016

c ./femplot/shyplot.f:
! 13.06.2016    ggu     shyplot now plots barotropic vars (layer==0)
c
c ./fem3d/shyelab1.f:
! 10.06.2016    ggu     shydiff included
c
c ./fem3d/newexpl.f:
c 14.06.2016    dbf     diff. vertical momentum advection schemes implemented
c
c ./fem3d/newbcl.f:
c 14.06.2016    ggu     open and write of file in own subroutine


10.06.2016

c ./femplot/shyplot.f:
! 10.06.2016    ggu     shyplot now plots fem files
c
c ./fem3d/subfemintp.f:
! 07.06.2016	ggu	check if file has desired number of variables nvar
! 08.06.2016	ggu	handle case where no depth is given in file and sigma
! 09.06.2016	ggu	integrate_vertical eliminated (use interpolate)
! 10.06.2016	ggu	handle iff_init() call with nvar == 0
!
c ./fem3d/subnsa.f:
c 07.06.2016	ggu	use both varid and varname to decide on section reading
c
c ./fem3d/newconz.f:
c 10.06.2016    ggu     some more re-formatting
c
c ./fem3d/subbas.f:
c 10.06.2016	ggu	new routine for inserting regular grid
c
c ./fem3d/newbcl.f:
c 10.06.2016    ggu     not used routines deleted


06.06.2016

c ./fem3d/subgrd.f:
c 06.06.2016    ggu     bstop substituted with berr, new accessor routines
c
c ./fem3d/subtsuvfile.f:
c 06.06.2016    ggu	tracer_file routines changed
c
c ./fem3d/netcdf.f:
c 31.05.2016    ggu	changed time variable to double precision
c
c ./fem3d/subclo.f:
! 01.06.2016    ggu     new routine clo_hide_option() and -hh,-fullhelp
!
c ./fem3d/newconz.f:
c 06.06.2016    ggu     initialization from file changed
c
c ./fem3d/sublin.f:
c 06.06.2016    ggu     module added, new routines for bnd and grd lines
c
c ./fem3d/newbfm.f:
c 06.06.2016    ggu         initialization from file changed


30.05.2016

c ./femplot/supdep.f:
c 27.05.2016    ggu     mkhkv,mkhev deleted
c
c ./femplot/suplin.f:
c 27.05.2016    ggu     some restructuring to lower dependencies
c
c ./fem3d/subnsh.f:
c 26.05.2016    ggu     new check for sections: count_sections()
c
c ./fem3d/newini.f:
c 30.05.2016    ggu     changes in set_last_layer(), possible bug fix ilytyp==1
c
c ./fem3d/subclo.f:
! 30.05.2016    ggu     new routine clo_add_com() (identical to clo_add_sep)
!
c ./fem3d/subshyutil.f:
! 26.05.2016    ggu     new routines for opening and writing scalar file


25.05.2016

c ./fem3d/mercury.f:
c 15.05.2016    ggu     started mercury from bio3d
c
c ./fem3d/subres.f:
c 17.05.2016    ggu     in ts_shell() save isvect/itvect
c
c ./fem3d/subfemintp.f:
! 05.05.2016    ggu     new functionality for 3d matrices
!
c ./fem3d/basutil.f:
! 01.05.2016    ggu     new routine to convert depth from node to elem
!
c ./fem3d/subqfxu4.f:
c 04.05.2016    ccf     do not pass albedo into heat2t
c
c ./fem3d/subbas.f:
c 01.05.2016    ggu     new routines basin_has_basin()
c 20.05.2016    ggu     estimate_ngr() returns exact ngr
c
c ./fem3d/subreg.f:
c 05.05.2016    ggu     file restructured (module)
c
c ./fem3d/sigmautil.f:
c 01.05.2016    ggu     changes in get_layer_thickness(): exit from loop
c 14.05.2016    ggu     substitute blockdata/common with module
c
c ./fem3d/newtra.f:
c 19.05.2016    ggu     use where construct where possible
c
c ./fem3d/subqfxt.f:
c 04.05.2016    ccf     do not pass albedo into heat2t
c 04.05.2016    ggu     include effect of ice cover
c
c ./fem3d/subfemfile.f:
c 13.05.2016    ggu     nvers = 3 -> add data size to records
c 14.05.2016    ggu     new module to collect global parameters


28.04.2016

c ./fem3d/nos2nc.f:
c 27.04.2016    mbj     adapted to new framework
c
c ./fem3d/ous2nc.f:
c 27.04.2016    mbj     adapted to new framework


15.04.2016

c ./fem3d/elabutil.f:
! 15.04.2016    ggu     handle gis files with substitution of colon
!
c ./fem3d/subfemintp.f:
! 01.04.2016    ggu     bug fix in iff_init(): open file with np and not nexp
!
c ./fem3d/basutil_interp.f:
c 11.04.2016    ggu     meaning of ufact has changed, expo interp working
c
c ./fem3d/basutil_bathy.f:
c 11.04.2016    ggu     meaning of ufact has changed
c
c ./fem3d/newnudge.f:
c 15.04.2016    ggu     started cleaning module
c
c ./fem3d/subwaves.f:
! 15.04.2016    ggu     parametric wave module cleaned
!
c ./fem3d/nos2nc.f:
c 15.04.2016    ggu     ndim eliminated (allocatable)
c
c ./fem3d/subwrt.f:
c 15.04.2016    ggu     new input file for custom reset
c
c ./fem3d/feminf.f:
! 07.04.2016    ggu     option node added to extract value at node
c
c ./fem3d/newtra.f:
c 07.04.2016    ggu     new routine aver_nodal()
c
c ./fem3d/subflxa.f:
c 12.04.2016    ggu     fluxes_template adjourned
c 15.04.2016    ggu     fluxes_template debugged and finished
c
c ./fem3d/flxinf.f:
c 07.04.2016    ggu     bug fix for allocation of arrays
c
c ./fem3d/subspk.f:
c 04.04.2016    ggu     make some big arrays allocatable and not on stack
c
c ./fem3d/subsys.f:
c 05.04.2016    ggu     new parameter iaicef for ice free areas
c
c ./fem3d/subqfxt.f:
c 07.04.2016    ggu     compute total evaporation


01.04.2016

c ./fem3d/newcon.f:
c 01.04.2016    ggu     most big arrays moved from stack to allocatable
c
c ./fem3d/mod_bnd.f:
! 01.04.2016    ggu     parameter and file names transfered to here
!
c ./fem3d/subetsa.f:
c 01.04.2016    ggu     bug fix for waves
c
c ./fem3d/subbnd.f:
c 01.04.2016    ggu	restructured - arrays transfered to mod_bnd.f
c
c ./fem3d/sedi3d.f:
c 01.04.2016    ccf&ggu adapted to new model version


22.03.2016

 * ./mesh/exgrd.c:
 * 18-Mar-2016: -a option also changes versus in line			*
 * ./mesh/meshfi.c:
 * 19-Mar-2016: program now accepts filename with and without .grd	*
c ./fem3d/ouselab1.f:
c 17.03.2016    ggu     outformat git added
c
c ./fem3d/shybas.f:
c 17.03.2016    ggu     new routine write_depth_from_bas()


11.03.2016

c ./fem3d/subfemintp.f:
! 07.03.2016    ggu     bug fix in iff_read_header(): no time adjust if ierr/=0
!
c ./fem3d/subwaves.f:
! 10.03.2016    ggu     in parametric wave module fix segfault (allocatable)
!
c ./fem3d/new3di.f:
c 10.03.2016    ggu     in sp256v_intern() b/cpres in double precision
c 11.03.2016    ggu     most variables passed in double precision
c
c ./fem3d/submeteo2.f:
c 10.03.2016    ggu     check for pressure to be in reasonable bounds


22.02.2016

c ./fem3d/elabutil.f:
! 22.02.2016	ggu	handle catmode
!
c ./fem3d/subtsuvfile.f:
c 22.02.2016    ggu&eps new files for generic tracer (nvar>1)
c
c ./fem3d/noselab1.f:
c 22.02.2016    ggu     handle catmode
c
c ./fem3d/subbnd.f:
c 22.02.2016    ggu	new files bfmbcn integrated
c
c ./fem3d/subsys.f:
c 22.02.2016	ggu	new file for initial conditions bfmini
c
c ./fem3d/newbfm.f:
c 22.02.2016    ggu&eps     new bfm routines created from newconz


19.02.2016

c ./fem3d/noselab1.f:
c 19.02.2016    ggu     bug fixes for bsumvar and mode==2 (sum)
c
c ./fem3d/mod_conz.f:
! 19.02.2016    ggu     set default decay to zero


19.02.2016

c ./fem3d/subbnd.f  20150623 20150215
c 15.02.2015    ggu      check if boundary is given twice
c
c ./fem3d/subnls.f:
c 01.02.2016    ggu     bug in nls_insert_variable() -> new char variable
c
c ./fem3d/subfemintp.f:
! 15.02.2016    ggu     if dtime==-1 do not check time, changes in exffil
!
c ./fem3d/lagrange_vertical.f:
c 15.02.2016    ggu     handle particles on vertical wall gracefully
c
c ./fem3d/lagrange_init.f:
c 15.02.2016    ggu     handle negative areas (line given clockwise)
c
c ./fem3d/subwrt.f:
c 01.02.2016    ggu     implemented custom reset
c
c ./fem3d/subver.f:
c 19.02.2016    ggu     version 7.5.2
c
c ./fem3d/subnev.f:
c 15.02.2016    ggu     more debug code, assure xi is in bounds
c
c ./fem3d/subsys.f:
c 01.02.2016    ggu     some plot params shifted to para section (bbgray, etc.)
c
c ./fem3d/lagrange_inout.f:
c 15.02.2016    ggu&fra new release type ipvert=-1


22.01.2016

c ./fem3d/subspk.f:
c 13.01.2016    ggu&ivn bug in allocation of rvec and raux (n instead nndim)
c
c ./fem3d/subfemfile.f:
c 21.01.2016    ggu     read and write string without leading blanks
c
c ./fem3d/subqfxm5.f:
! 22.01.2016    ggu     bug fix for COARE integrated (L gets infinite)


08.01.2016

c ./fem3d/submeteo2.f:
c 08.01.2016    ggu     bug fix in meteo_convert_wind_data() - no wind bug


18.12.2015

 * ./grid/gridma1.c:
 * 17-Dec-2015: delete node only if use is 0				*

c ./fem3d/basutil_interp.f:
c 16.12.2015	ggu	depth ht is now passed in for square interpol
c
c ./fem3d/basutil_bathy.f:
c 16.12.2015    ggu     depth ht is now passed in for square interpol

c ./fem3d/subfemintp.f:
! 18.12.2015    ggu     in iff_peek_next_record() adjust date only if ierr==0


16.12.2015

c ./femplot/suplin.f:
c 02.12.2015    ggu     bug fix in integrate_flux() - dx was used twice
c
c ./fem3d/simsys_spk.f:
! 09.12.2015	ggu	adapted to new pointers and 3d matrix
! 15.12.2015	ggu&deb	finsihed and validated
c
c ./fem3d/newtra.f:
c 03.12.2015	ccf&ggu	code optimized
c
c ./fem3d/mod_system.f:
! 15.12.2015    ggu&deb     adapted to 3d case (poisson)
!
c ./fem3d/simsys_pard.f:
c 15.12.2015    deb     adjusted for new 3d framework
c
c ./fem3d/subrst.f:
! 30.11.2015    ggu     allocate cnv/conzv before read
!
c ./fem3d/subgotm.f:
c 03.12.2015    ccf     levdbg introduced for checka
c
c ./fem3d/newpoi.f:
! 15.12.2015    ggu&deb&wmk     written from scratch
!
c ./fem3d/simsys_lp.f:
c 15.12.2015	ggu	added dummy subroutines for 3d case
c
c ./fem3d/subspk.f:
c 15.12.2015    ggu&deb adapted to new 3d framework
c
c ./fem3d/subpard.f:
c 15.12.2015    deb     adjusted for new 3d framework
c
c ./fem3d/sublnku.f:
c 02.12.2015	ggu	lnk_elems and lnk_nodes eliminated
c
c ./fem3d/mod_bnd.f:
! 01.12.2015    ggu     ready to accept no open boundary (bug fix)
!
c ./fem3d/links.f:
c 02.12.2015    ggu	routines get_link() and get_lenk() deleted
c
c ./fem3d/subproj.f:
! 03.12.2015    ggu     bug fix because arrays were defined length 1
!
c ./fem3d/arc/mod_shympi.f:
! 24.11.2015    ggu     project started
!
c ./fem3d/subcoo.f:
c 04.12.2015    ggu     new approach for constructing matrix - also 3d
c 15.12.2015    ggu&deb finished and validated 3d approach


20.11.2015

c ./fem3d/new3di.f:
c 20.11.2015    ggu&erp chunk size introduced, omp finalized
c
c ./fem3d/newcon_omp.f:
c 20.11.2015    ggu&erp chunk size introduced, omp finalized


16.11.2015

c ./fem3d/subnev.f:
c 16.11.2015    ggu     new routine adjust_xi()


09.11.2015

c ./femplot/supsim.f:
c 06.11.2015    ggu     set valref to 1 if vel field == 0
c
c ./fem3d/mod_conz.f:
! 09.11.2015    ggu     restructured with global values
!
c ./fem3d/newconz.f:
c 09.11.2015    ggu     newly structured in init, compute and write


05.11.2015

c ./fem3d/newnudge.f:
c 04.11.2015    ggu     bug in velocitiy nudging fixed
c
c ./fem3d/suboutput.f:
c 04.11.2015    ggu     allow for initial output in adjust_itmidt()
c
c ./fem3d/subrst.f:
! 30.10.2015    ggu     new names, restructured
!
c ./fem3d/suboutputd.f:
c 04.11.2015    ggu     allow for initial output in adjust_itmidt()
c
c ./fem3d/femelab.f:
! 05.11.2015    ggu     new option chform to change format
c
c ./fem3d/suboff.f:
c 05.11.2015    ggu     revisited and checked
c
c ./fem3d/newini.f:
c 05.11.2015    ggu     can now initialize z,u,v from file


02.11.2015

c ./fem3d/subrst.f:
! 30.10.2015    ggu     new names, restructured


26.10.2015

c ./fem3d/newcon.f:
c 26.10.2015    ggu     critical omp sections introduced (eliminated data race)
c 26.10.2015    ggu     mass check only for levdbg > 2
c
c ./fem3d/newbcl.f:
c 26.10.2015    ggu     bug fix for parallel code (what was not set)
c
c ./fem3d/subqfxt.f:
c 26.10.2015    ggu     critical omp sections introduced (eliminated data race)


22.10.2015

c ./fem3d/suboutput.f:
c 20.10.2015    ggu     new routines to set/get unit
c
c ./fem3d/subrst.f:
c 20.10.2015    ggu     bug fix to get correct restart time (itanf)
c
c
c ./fem3d/suboutputd.f:
c 20.10.2015    ggu     new routines to set/get id
c
c ./fem3d/newstab.f:
c 20.10.2015    ggu     in output_stability() bug that icall was not adjouned


19.10.2015

c ./fem3d/subousa.f:
c 15.10.2015    ggu     added new calls for shy file format
c
c ./fem3d/subshy.f:
! 15.10.2015    ggu     completed basic parts
!
c ./fem3d/subshyutil.f:
! 15.10.2015    ggu     started routine
c
c ./fem3d/newbcl.f:
c 15.10.2015    ggu     added new calls for shy file format
c
c ./fem3d/shyelab1.f:
! 16.10.2015    ggu     started shyelab


12.10.2015

c ./femplot/supbas.f:
c 12.10.2015  ggu     fix in rround() to handle rmaster==0 case
c
c ./fem3d/subtime.f:
c 10.10.2015    ggu     use bsync as global to check for syncronization
c
c ./fem3d/subflx.f:
c 10.10.2015	ggu	new routines for new flx framework
c
c ./fem3d/subnev.f:
c 10.10.2015	ggu	bug fix in adjust_bc() - brown paper bag bug
c
c ./fem3d/shyfem.f:
c 10.10.2015    ggu	fluid mud routines handled differently
c
c ./fem3d/elabutil.f:
! 10.10.2015	ggu	code added to handle FLX routines
!
c ./fem3d/subver.f:
c 12.10.2015	ggu	version 7.3.3
c
 * ./post/psgraphf.c:
 * 11-Oct-2015: new routines qopenfile to open with given file name	*
c ./tmp/subshy.f:
! 10.10.2015    ggu     started routine
!
c ./femadj/adj5el.f:
c 11.10.2015    ggu     bug fix: fused node was not moved


10.10.2015

c ./fem3d/subproj.f:
! 30.09.2015    ccf     introduced module projection
!
c ./fem3d/subcoord.f:
! 30.09.2015    ccf     introduced module coordinates
!
c ./fem3d/subtidef.f:
! 30.09.2015    ccf     converted previous routines to module
! 01.10.2015    ccf     bug fix in hour, now handle negative time

02.10.2015

c ./fem3d/shybas.f:
c 30.09.2015    ggu     shybas started
c 01.10.2015    ggu     shybas nearly finished
c 02.10.2015    ggu     only basproj is missing
c
c ./fem3d/subgrd.f:
c 02.10.2015    ggu     new routine is_grd_file()
c 02.10.2015    ggu     now stopping on first error
c
c ./fem3d/basutil.f:
! 01.10.2015	ggu	converted to basutil
!
c ./fem3d/subbas.f:
c 02.10.2015	ggu	in basin_open_file eliminated double read (bug)
c 02.10.2015	ggu	new routines is_depth_unique(), estimate_ngr()


30.09.2015

c ./fem3d/subbnds.f:
c 30.09.2015    ggu     new routine iff_flag_ok() for ambient value
c
c ./fem3d/newcon.f:
c 30.09.2015    ggu     routine cleaned, no reals in conz3d
c
c ./fem3d/optintp.f:
c 29.09.2015	ggu	move some vars to custimize to the beginning of file
c
c ./fem3d/mod_subset.f:
c 29.09.2015	ggu	new routine which is much faster
c 30.09.2015	ggu	new routine domain_clusterization_dummy()
c
c ./fem3d/newcon_omp.f:
c 30.09.2015    ggu     routine cleaned, no reals in conz3d


29.09.2015

c ./fem3d/optintp.f:
c 29.09.2015	ggu	move some vars to custimize to the beginning of file


29.09.2015

c ./fem3d/newnudge.f:
c 29.09.2015    ggu     finished nudging velocities
c
c ./fem3d/subsys.f:
c 29.09.2015	ggu	new boundary file surfvel
c
c ./fem3d/subfemintp.f:
! 29.09.2015	ggu	in iff_interpolate() do not interpolate with flag


25.09.2015

c ./fem3d/newnudge.f:
c 25.09.2015    ggu     prepared for nudging velocities
c
c ./fem3d/subreg.f:
c 25.09.2015    ggu     new routines intp_reg_nodes(), intp_reg_elems()
c
c ./fem3d/newexpl.f:
c 25.09.2015    ggu     new call to set_nudging()
c
c ./fem3d/subfemintp.f:
! 25.09.2015    ggu     prepared to interpolate from reg onto elements


24.09.2015

c ./fem3d/subnsh.f:
c 24.09.2015    ggu     call initialization for irv before reading STR file


24.09.2015

c ./fem3d/suboutput.f:
c 24.09.2015    ggu     new file for double precision version
c
c ./fem3d/suboutputd.f:
c 24.09.2015    ggu     routines re-written for double precision


23.09.2015

c ./fem3d/subnos.f:
c 22.09.2015    ggu     new routine nos_check_compatibility()
c
c ./fem3d/suboutput.f:
c 23.09.2015    ggu     new routine convert_time_d() for double
c
c ./fem3d/elabutil.f:
! 22.09.2015    ggu     new routine open_shy_file()
!
c ./fem3d/subtime.f:
c 23.09.2015    ggu     time step is now working with dt as double
c
c ./fem3d/noselab1.f:
c 23.09.2015    ggu     handle more than one file (look for itstart)
c
c ./fem3d/nosutil.f:
c 23.09.2015    ggu     close files in nos_get_it_start() nos_get_it_end()


18.09.2015

c ./fem3d/shyfem.f:
c 18.09.2015    ggu     new routine scalar, call to hydro()
c
c ./fem3d/newchk.f:
c 17.09.2015    ggu     in mass_conserve aux variables are local
c
c ./fem3d/tideg.f:
c 18.09.2015    ggu     zeqv is now initialized even without use of tides (bug)
c
c ./fem3d/new3di.f:
c 17.09.2015    ggu     sp256w renamed to hydro_vertical
c 17.09.2015    ggu     sp259f renamed to hydro
c 18.09.2015    ggu     sp256 renamed to hydro_transports, file cleaned
c
c ./fem3d/mod_subset.f:
c 18.09.2015    ggu     code integrated
c
c ./fem3d/newexpl.f:
c 18.09.2015    ggu     use momentx/yv to store advective terms, not aux arrays
c
c ./fem3d/subdif.f:
c 18.09.2015    ggu     austau() not used anymore - eliminated
c
c ./fem3d/subcoo.f:
c 18.09.2015    ggu     bug fix in coo_init - do not set ip/jp for n==0


14.09.2015

c ./femplot/supsim.f:
c 14.09.2015    ggu     prepared for plotting velocities given in fem file
c
c ./femplot/supout.f:
c 14.09.2015  ggu     introduced bwind and bvel (for velocities)
c
c ./fem3d/optintp.f:
c 14.09.2015    ggu     OI adapted to new modular structure
c
c ./fem3d/noselab1.f:
c 10.09.2015    ggu     std and rms for averaging implemented
c 11.09.2015    ggu     write in gis format
c
c ./fem3d/shyelab.f:
c 14.09.2015    ggu     support for ext files added
c
c ./fem3d/ouselab1.f:
c 11.09.2015    ggu     split feature added
c
c ./fem3d/subext.f:
c 14.09.2015    ggu     some more helper routines
c
c ./fem3d/ousutil.f:
c 11.09.2015    ggu     weight and hl are local, new velzeta2scal()
c
c ./fem3d/subsss.f:
c 14.09.2015    ggu     new routine i2s0()


30.07.2015

c ./fem3d/shyfem.f:
c 30.07.2015    ggu     routine renamed from ht to shyfem
c
c ./fem3d/subcst.f:
c 30.07.2015    ggu     read str-file from command line
c
c ./fem3d/shypre.f:
c 30.07.2015    ggu     vp renamed to shypre
c
c ./fem3d/shyelab.f:
c 30.07.2015    ggu     shyelab started


10.07.2015

c ./fem3d/subbnd.f:
c 23.06.2015    ggu     setbc() deleted, nrz,nrq eliminated


05.06.2015

c ./femplot/supsim.f:
c 05.06.2015    ggu     some plotting routines adjourned (flag)
c
c ./femplot/supano.f:
c 05.06.2015  ggu     new keyword vart in legend for variable text
c
c ./fem3d/subclo.f:
! 28.05.2015    ggu     new routine clo_add_sep()
!
c ./fem3d/tmp/alloc1/3/new/subnos1.f:
! 30.05.2015    ggu     module introduced
!
c ./fem3d/simsys_spk.f:
c 25.05.2015    ggu     some calls chenaged (pass array in)
c
c ./fem3d/subwrt.f:
c 05.06.2015    ggu     new routine to limit concentration between 0 and c0
c
c ./fem3d/femelab.f:
! 05.06.2015    ggu     iextract to extract nodal value
c
c ./fem3d/noselab.f:
c 05.06.2015    ggu     many more features added
c
c ./fem3d/subdep.f:
c 25.05.2015    ggu     some changes in depth computation
c
c ./fem3d/newini.f:
c 25.05.2015    ggu     file cleaned and prepared for module
c
c ./fem3d/subbas.f:
c 25.05.2015    ggu     module introduced


25.05.2015

c ./fem3d/simsys_spk.f:
c 25.05.2015    ggu     some calls chenaged (pass array in)
c
c ./fem3d/subdep.f:
c 25.05.2015    ggu     some changes in depth computation
c
c ./fem3d/newini.f:
c 25.05.2015    ggu     file cleaned and prepared for module
c
c ./fem3d/subbas.f:
c 25.05.2015    ggu     module introduced


21.05.2015

c ./femplot/supano.f:
c 06.05.2015  ggu     prepared for logarithmic color bar
c
c ./femplot/col.f:
c 06.05.2015    ggu     logarithmic scale introduced (ilog, blog)
c
c ./fem3d/subetsa.f:
c 30.05.2015    ggu     new read from STR file, using module ets
c
c ./fem3d/sublnka.f:
c 20.05.2015    ggu     new call to mklenkii to set up lenkiiv
c
c ./fem3d/subnls.f:
c 12.05.2015    ggu     new char table
c
c ./fem3d/tmp/al1/lagrange_sedim.f:
c 06.05.2015    ccf     written from scratch
c
c ./fem3d/tmp/al1/lagrange_inout.f:
c 06.05.2015    ccf     write relative total depth and type to output
c 07.05.2015    ccf     assign settling velocity to particles
c
c ./fem3d/tmp/al1/lagrange_vertical.f:
c 06.05.2015    ccf     included settling velocity for lagrangian
c
c ./fem3d/tmp/al1/suboff.f:
c 06.05.2015    ccf     write offline to .off file
c                       read offline from offlin file in section name
c
c ./fem3d/lagrange_init.f:
c 20.05.2015    ccf     give type to released particles
c
c ./fem3d/lagrange_sedim.f:
c 06.05.2015    ccf     written from scratch
c
c ./fem3d/submeteo2.f:
c 12.05.2015    ggu     introduced ia_icefree for icefree elements
c
c ./fem3d/newcon.f:
c 20.05.2015    ggu     accumulate over nodes (for parallel version)
c
c ./fem3d/subn35.f:
c 12.05.2015    ggu     rewritten with modules and allocatable
c
c ./fem3d/subinterpol.f:
c 06.05.2015    ggu     set number of max iterations (imax)
c
c ./fem3d/subflxa.f:
c 20.05.2015    ggu     modules introduced
c
c ./fem3d/links.f:
c 30.05.2015    ggu     new subroutine mklenkii to compute lenkiiv
c
c ./fem3d/subexta.f:
c 20.05.2015    ggu     modules introduced
c
c ./fem3d/new3di.f:
c 06.05.2015    ggu     cleaning up of sp256f
c 20.05.2015    ggu&erp sp256v parallelized
c
c ./fem3d/subwrt.f:
c 20.05.2015    ggu     rinside computed only once, bug fix for conz==0
c
c ./fem3d/lagrange_inout.f:
c 06.05.2015    ccf     write relative total depth and type to output
c 07.05.2015    ccf     assign settling velocity to particles
c
c ./fem3d/femelab.f:
! 20.05.2015    ggu     use bhuman to convert to human readable time
c
c ./fem3d/etsutil.f:
c 30.05.2015    ggu     new code for reading header 1 and 2 indipendently
c
c ./fem3d/subxi.f:
c 16.05.2015    ccf     add some more check in xit_start_end for small numbers
c
c ./fem3d/lagrange_vertical.f:
c 06.05.2015    ccf     included settling velocity for lagrangian
c 08.05.2015    ggu&ccf bug fix in track_xi_next_element
c 14.05.2015    ccf     bug fix in track_xi
c
c ./fem3d/noselab.f:
c 06.05.2015    ggu     noselab started
c
c ./fem3d/newstab.f:
c 20.05.2015    ggu     always compute stability, call to conzstab changed
c
c ./fem3d/suboff.f:
c 06.05.2015    ccf     write offline to .off file
c 06.05.2015    ccf     read offline from offlin file in section name
c
c ./fem3d/subsss.f:
c 06.05.2015    ggu     new routine logvals() for logarithmic values


04.05.2015

c ./fem3d/sublnka.f:
c 04.05.2015    ggu     remove equivalence - use winkv as local array
c
c ./fem3d/submeteo2.f:
c 04.05.2015    ggu     bug in ice eliminated


30.04.2015

c ./fem3d/submeteo2.f:
c 30.04.2015    ggu     ice integrated
c
c ./fem3d/submet.f:
c 30.04.2015    ggu     ice cover implemented
c
c ./fem3d/subn35.f:
c 28.04.2015    ggu     czdef is default for all areas not given
c
c ./fem3d/ousextr_cat.f:
c 29.04.2015    ggu     mode 1 implemented
c
c ./fem3d/ousutil.f:
c 29.04.2015    ggu     new helper routines for start/end time in file
c
c ./fem3d/subuti.f:
c 29.04.2015    ggu     energy now in Joule
c
c ./fem3d/subapn.f:
c 29.04.2015    ggu     generic changes - now works as anticipated


23.04.2015

lagrangian 3d

c ./femplot/suplag.f:
c 23.04.2015    ggu     plotting for 3d particles
c
c ./fem3d/lgrinf.f:
c 23.04.2015    ggu     for new version 5
c
c ./fem3d/lagrange_main.f:
c 23.04.2015    ggu     internal coordinates implemented (blgrxi)
c
c ./fem3d/subnev.f:
c 19.04.2015    ggu     new routines for internal coordinates (distance)
c 22.04.2015    ggu     bug fix in xi2xy - x/y were exchanged
c
c ./fem3d/subxi.f:
c 23.04.2015    ggu     compute s value for particle path
c
c ./fem3d/lagrange_vertical.f:
c 23.04.2015    ggu     internal coodinates finished


01.04.2015

intermediate version

c ./fem3d/tmp/javier/subwrt.f:
c 11.03.2015    ggu     introduced bstop, if early stop, write to file
c
c ./fem3d/subdts.f:
c 31.03.2015    ggu     bug fix - month was 71/2, now 61/2
c
c ./fem3d/subnev.f:
c 31.03.2015    ggu     new routines for internal coordinates
c
c ./fem3d/subwrt.f:
c 31.03.2015    ggu     compute res time for different areas
c
c ./fem3d/subbas.f:
c 31.03.2015    ggu     set iarnv on read


27.02.2015

aquabc_II added


26.02.2015

c ./femplot/supbas.f:
c 10.02.2015  ggu     also plot other points, also regular points
c
c ./femplot/supout.f:
c 10.02.2015  ggu     use different file units (more than one can be opened)
c
c ./fem3d/subtsfile.f:
c 10.02.2015    ggu     length of line set to 2048
c
c ./fem3d/subclo.f:
! 26.01.2015    ggu     make argument to clo_parse_options() optional
! 26.01.2015    ggu     new routine clo_check_files()
! 08.02.2015    ggu     bug fix in clo_get_option, new routine clo_info
!
c ./fem3d/subnls.f:
c 05.02.2015    ggu     program completely rewritten (modules introduced)
c 08.02.2015    ggu     accept also '!' and '#' for end comment on line
c
c ./fem3d/subbnds.f:
c 05.02.2015    ggu     check for number of variables read
c 10.02.2015    ggu     new routine bnds_read_new()
c
c ./fem3d/subssm.f:
c 10.02.2015    ggu     some double precision routines introduced
c
c ./fem3d/kepsd.f:
c 10.02.2015    ggu     in gotm call to do_gotm_turb() with ddt and not dt
c
c ./fem3d/subpar3.f:
c 13.02.2015    ggu     limit of string raised from 6 to 10
c
c ./fem3d/subnosa.f:
c 10.02.2015    ggu     some new routines for writing...
c
c ./fem3d/optintp.f:
c 07.02.2015    ggu     OI finished
c
c ./fem3d/newconz.f:
c 10.02.2015    ggu     call to bnds_read_new() introduced
c
c ./fem3d/newbcl.f:
c 10.02.2015    ggu     call to bnds_read_new() introduced
c
c ./fem3d/feminf.f:
! 10.02.2015    ggu     option for not complaining about changed time step
c
c ./fem3d/subn11.f:
c 10.02.2015    ggu     new call to iff_read_and_interpolate()
c
c ./fem3d/subscn.f:
c 06.02.2015    ggu     new routines istos,iston,is_digit,is_letter
c
c ./fem3d/subfemintp.f:
! 05.02.2015    ggu     iff_read_and_interpolate() introduced for parallel bug
!
c ./fem3d/subapn.f:
c 10.02.2015    ggu     debugged, bcompat gives compatibility with old versions
!
! ./fem3d/subwave.f:
! 10.02.2015    ggu     randomixe change of coordinates if on node (bug fix)


23.01.2015

c ./fem3d/subwaves.f:
! 21.01.2015    ggu     computing fetch for geographical coordinates (bug fix)
!
c ./fem3d/subnev.f:
c 21.01.2015    ggu     new routine compute_cartesian_coords()
c
c ./fem3d/subproj.f:
c 21.01.2015    ggu     code to handle projection in both directions


19.01.2015

big changes: common -> include


15.01.2015

c ./fem3d/subclo.f:
! 14.01.2015    ggu     added new routines clo_add_info/extra
!
c ./fem3d/feminf.f:
! 14.01.2015    ggu     finished and cleaned
c
c ./fem3d/tideg.f:
c 14.01.2015    ccf     small bug fix rounding date and time
c
c ./fem3d/femelab.f:
! 14.01.2015    ggu     adapted from feminf
c
c ./fem3d/subfemfile.f:
c 14.01.2015    ggu     new routine fem_file_string2time()
c
c ./fem3d/subapn.f:
c 14.01.2015    ggu     reorganized and cleaned


12.01.2015

c ./fem3d/subfemfile.f:
c 09.01.2015    ggu     new routine fem_file_get_format_description()


09.01.2015

c ./fem3d/subnls.f:
c 08.01.2015    ggu     new version for nrdvec*()
c
c ./fem3d/subtime.f:
c 07.01.2015    ggu     fractional time step without rounding (itsplt=3)
c
c ./fem3d/subgrd.f:
c 08.01.2015    ggu     common blocks in include file
c
c ./fem3d/subbas.f:
c 04.01.2015    ggu     new routine sp13_get_par()
c
c ./fem3d/subfemintp.f:
! 07.01.2015    ggu     bug fix in iff_populate_records() -> handle holes
! 08.01.2015    ggu     bug fix for parallel: make variables local


23.12.2014

c ./femplot/suplin.f:
c 22.12.2014    ggu     new routine integrate_flux()
c
c ./fem3d/subtime.f:
c 23.12.2014    ggu     fractional time step introduced
c
c ./fem3d/ousvdiff.f:
c 20.12.2014    ggu     bug fix: nlv was not set, new calling sequence


19.12.2014

c ./fem3d/subtime.f:
c 19.12.2014    ggu     accept date also as string


12.12.2014

c ./fem3d/subrst.f:
c 11.12.2014    ccf     bug fix for atime


05.12.2014

c ./fem3d/subclo.f:
! 27.11.2014    ggu     is now fully functional
!
c ./fem3d/subnsh.f:
c 01.12.2014    ccf     handle new section waves for wave module
c
c ./fem3d/subsys.f:
c 01.12.2014    ccf     wave parameters moved to subwave.f
c
c ./fem3d/ht.f:
c 05.12.2014    ccf     new interface for waves


25.11.2014

c ./fem3d/subnsh.f:
c 10.11.2014    ggu     shyfem time management routines to new file subtime.f
c
c ./fem3d/subdts.f:
c 12.11.2014    ggu     new routines for unformatting and timespan
c
c ./fem3d/suboutput.f:
c 10.11.2014    ggu     time management routines transfered to this file
c
c ./fem3d/subtime.f:
c 10.11.2014    ggu     time management routines transfered to this file
c
c ./fem3d/subcst.f:
c 10.11.2014    ggu     time and date routines transfered to subtime.f


07.11.2014

c ./fem3d/subn11.f:
c 07.11.2014    ggu     bug fix for distance computation in z_tilt, c_tilt


04.11.2014

c ./fem3d/subwaves.f:
! 04.11.2014    ccf     rewritten
!
c ./fem3d/subbnd.f:
c 03.11.2014    ggu     nbdim deleted
c
c ./fem3d/subnev.f:
c 30.10.2014    ggu     new routine compute_distance()
c
c ./fem3d/subn11.f:
c 30.10.2014    ggu     in c_tilt() compute distance also for lat/lon
c 31.10.2014    ccf     new call to init_z0 instead than init_z0b
c
c ./fem3d/newini.f:
c 31.10.2014    ccf     initi_z0 for zos and zob


30.10.2014

c ./fem3d/subnos.f:
c 29.10.2014    ggu     new routine nos_is_nos_file()
c
c ./fem3d/subnsh.f:
c 29.10.2014    ggu     do_() routines transfered from newpri.f
c
c ./fem3d/subboxa.f:
c 29.10.2014    ggu     new code and 3d version
c
c ./fem3d/subfemfile.f:
c 29.10.2014    ggu     new routine fem_file_is_fem_file()
c
c ./fem3d/subous.f:
c 29.10.2014    ggu     new routine ous_is_ous_file()
c
c ./fem3d/subbas.f:
c 23.10.2014    ggu     introduced ftype and nvers = 4


21.10.2014

 ./femplot/plotsim.f:
c 20.10.2014    ggu     handle absolute and plotting time
c
c ./femplot/supsim.f:
c 20.10.2014    ggu     new time management
c
c ./femplot/suptim.f:
c 20.10.2014  ggu     completely restructured, old routines deleted
c
c ./femplot/supout.f:
c 20.10.2014  ggu     deleted is2d() and out reading routines
c
c ./femplot/supano.f:
c 16.10.2014  ggu     annotes doesnt need it anymore
c
c ./fem3d/subtsfile.f:
c 20.10.2014    ggu     integrating datetime into time series
c
c ./fem3d/aquabc_fem_interface.f:
c 21.10.2014    ggu     converted to new boundary treatment
c
c ./fem3d/subbfm.f:
c 21.10.2014    ggu     converted to new boundary treatment
c
c ./fem3d/newcon.f:
c 20.10.2014    ggu     accept ids from calling routines
c
c ./fem3d/newconz.f:
c 20.10.2014    ggu     pass ids to scal_adv routines
c
c ./fem3d/subcst.f:
c 20.10.2014    ggu     new routine ckdate()
c
c ./fem3d/newbcl.f:
c 20.10.2014    ggu     pass ids to scal_adv()
c
c ./fem3d/bio3d.f:
c 21.10.2014    ggu     converted to new boundary treatment
c
c ./fem3d/sedi3d.f:
c 21.10.2014    ggu     converted to new boundary treatment
c
c ./fem3d/atoxi3d.f:
c 21.10.2014    ggu     converted to new boundary treatment
c
c ./fem3d/subsys.f:
c 20.10.2014    ggu     new default for date (-1)
c
c ./fem3d/subfemfile.f:
c 20.10.2014    ggu     second version (date record is just after first record)
c
c ./fem3d/subfemintp.f:
! 20.10.2014    ggu     deal with datetime in fem/ts files


13.10.2014

c ./fem3d/subdts.f:
c 13.10.2014    ggu     absolute time routines inserted
c 13.10.2014    ggu     one day off error fixed ($ONEDAYOFF)
c
c ./fem3d/wininf.f:
c 29.09.2014    ggu     uses allocatable ayyars



18.06.2014

c ./fem3d/subtsuvfile.f:
c 10.07.2014    ggu     only new file format allowed
c
c ./fem3d/subbnds.f:
c 10.07.2014    ggu     only new file format allowed
c
c ./fem3d/submet.f:
c 10.07.2014    ggu     only new file format allowed
c
c ./fem3d/newcon.f:
c 10.07.2014    ggu     only new file format allowed
c
c ./fem3d/newconz.f:
c 10.07.2014    ggu     only new file format allowed
c
c ./fem3d/newbcl.f:
c 10.07.2014    ggu     only new file format allowed
c
c ./fem3d/subn11.f:
c 10.07.2014    ggu     only new file format allowed



07.07.2014

c ./fem3d/subtsuvfile.f:
c 02.07.2014    ggu     new framework finished
c
c ./fem3d/subreg.f:
c 07.07.2014    ggu     new routine intp_reg()
c
c ./fem3d/subfemfile.f:
c 07.07.2014    ggu     first version consolidated
c
c ./fem3d/subfemintp.f:
! 07.07.2014    ggu     first version finished



27.06.2014

c ./fem3d/subbnds.f:
c 25.06.2014    ggu     new routines bnds_init_new() and bnds_trans_new()
c
c ./fem3d/sigmautil.f:
c 25.06.2014    ggu     error stop if computed layer thickness is <= 0
c
c ./fem3d/subbnd.f:
c 25.06.2014    ggu     new routine exists_bnd_name()
c
c ./fem3d/ht.f:
c 25.06.2014    ggu     new arrays hkv_min, hkv_max
c
c ./fem3d/subdep.f:
c 25.06.2014    ggu     computa also hkv_min and hkv_max
c
c ./fem3d/subfemintp.f:
! 25.06.2014    ggu     various bug fixes



18.06.2014

c ./fem3d/subbnd.f:
c 16.06.2014    ggu     new include file bnd.h (with nbndim)
c
c ./fem3d/subnsa.f:
c 06.06.2014    ggu     deleted sp158k() and sp158kk()
c
c ./fem3d/subfemfile.f:
c 16.06.2014    ggu     time is now double precision
c
c ./fem3d/subfemintp.f:
! 16.06.2014    ggu     tiem is noew double



30.05.2014

c ./femplot/supsim.f:
c 30.05.2014    ggu     flag no data points and do not plot
c
c ./femplot/supbas.f:
c 30.05.2014  ggu     new metpnt for meteo points, imicro computed
c
c ./fem3d/tmp/femfile/3/submeteo2.f:
c 20.05.2014    ggu     new routines for new file format
c
c ./fem3d/tmp/femfile/3/subintp.f:
c 18.05.2014    ggu     new routines d_intp_neville(), rd_intp_neville()
c
c ./fem3d/submeteo2.f:
c 20.05.2014    ggu     new routines for new file format
c
c ./fem3d/submet.f:
c 30.05.2014    ggu     new imreg == 3
c
c ./fem3d/subintp.f:
c 18.05.2014    ggu     new routines d_intp_neville(), rd_intp_neville()
c
c ./fem3d/subreg.f:
c 30.05.2014    ggu     in av2amk() do not interpolate for flag values
c
c ./fem3d/subsys.f:
c 30.05.2014    ggu     new default for dragco, new metpnt
c
c ./fem3d/subfemfile.f:
c 30.05.2014    ggu     restructured
c
c ./fem3d/subsss.f:
c 30.05.2014    ggu     new routine rnextsub()




15.05.2014

c ./fem3d/newcon.f:
c 15.05.2014    ggu     write min/max error only for levdbg >= 3
c
c ./fem3d/bio3d.f:
c 08.05.2014    ggu     bug in call to inicfil for es -> must be inic2fil
c
c ./fem3d/newchk.f:
c 15.05.2014    ggu     write mass error only for levdbg >= 3
c
c ./fem3d/subrgf.f:
c 15.05.2014    ggu&pzy bug fix: compare reals in rgf_check_header()



05.05.2014

c ./fem3d/lagrange_main.f:
c 28.03.2014    ggu     code cleaned - connectivity
c 10.04.2014    ggu     new code for lagr_count
c
c ./fem3d/lagrange_cont.f:
c 28.03.2014    ggu     new routine lagr_continuous_release_pps_ppv()
c
c ./fem3d/lagrange_decay.f:
c 28.03.2014    ggu     new version of decay (for all particles)
c
c ./fem3d/subbnd.f:
c 28.03.2014    ggu     new parameter lgrpps
c
c ./fem3d/subsys.f:
c 28.03.2014    ggu     some new params for lagrangian
c
c ./fem3d/new3di.f:
c 10.04.2014    ggu     cleaning up of a lot of stuff
c
c ./fem3d/newexpl.f:
c 10.04.2014    ggu     use rlin and rdistv to determin advective contribution
c
c ./fem3d/lagrange_inout.f:
c 28.03.2014    ggu     bug fix for inesrt with ie=0, area in concentrations
c
c ./fem3d/wininf.f:
c 16.04.2014    ggu     reads now also new meteo format
c
c ./fem3d/lagrange_util.f:
c 28.03.2014    ggu     compute total length of open boundary
c
c ./fem3d/subfemfile.f:
c 24.04.2014    ggu     use nvar>0 as indication of good read
c
c ./fem3d/newstab.f:
c 08.04.2014    ggu     use rlin to determine advective stability



28.03.2014

lagrangian cleaned - new connectivity

c ./fem3d/lagrange_main.f:
c 28.03.2014    ggu     code cleaned - connectivity
c
c ./fem3d/lagrange_cont.f:
c 28.03.2014    ggu     new routine lagr_continuous_release_pps_ppv()
c
c ./fem3d/lagrange_decay.f:
c 28.03.2014    ggu     new version of decay (for all particles)
c
c ./fem3d/subbnd.f:
c 28.03.2014    ggu     new parameter lgrpps
c
c ./fem3d/subsys.f:
c 28.03.2014    ggu     some new params for lagrangian
c
c ./fem3d/lagrange_inout.f:
c 28.03.2014    ggu     bug fix for inesrt with ie=0, area in concentrations
c
c ./fem3d/lagrange_util.f:
c 28.03.2014    ggu     compute total length of open boundary



25.03.2014

new offline

c ./fem3d/subgotm.f:
c 25.03.2014    ggu     new offline
c
c ./fem3d/newbcl.f:
c 25.03.2014    ggu     new offline
c
c ./fem3d/new3di.f:
c 25.03.2014    ggu     new offline
c
c ./fem3d/ht.f:
c 25.03.2014    ggu     new offline
c
c ./fem3d/subcus.f:
c 25.03.2014    ggu     new routine conz_decay_curonian()
c
c ./fem3d/suboff.f:
c 25.03.2014    ggu     new offline (for T/S)



05.03.2014

new grid to zoom in/out and move with mouse wheel
section plotting bug fix
new basbathy and scalintp

 * ./grid/gridma2.c:
 * 21-Feb-2014: new routine MakeGravityPoint() and InPoly()             *
 * 18-Feb-2014: new routines DelNodeLine(), InsertNodeLine()            *
 * ./grid/gridut.c:
 * 18-Feb-2014: new routine Dist2Node()                                 *
 * ./grid/xevents.c:
 * 05-Mar-2014: handle mouse wheel, new QSkipMotion()                   *
 * ./grid/gridma1.c:
 * 18-Feb-2014: new routines GfDelRemoveNodeLine(), GfInsertNodeLine()  *
 * ./grid/grid.c:
 * 18-Feb-2014: new menu items for line (del node, remove node, insert) *
 * ./grid/gridlo.c:
 * 05-Mar-2014: new action for drag and mouse wheel                     *
 * ./grid/events.h:
 * 05-Mar-2014: handle also mouse wheel                                 *
c ./femplot/plotsim.f:
c 05.03.2014    ggu     bug fix: isphe was not stored
c
c ./femplot/supout.f:
c 05.03.2014  ggu     new read for ous and nos files (use date)
c
c ./femplot/supano.f:
c 05.03.2014  ggu     in annotation use date information
c
c ./femplot/suplin.f:
c 05.03.2014    ggu     bug fix for reference vector
c
c ./fem3d/subnsh.f:
c 05.03.2014    ggu     code prepared to repeat time step (irepeat) - not ready
c
c ./fem3d/subdts.f:
c 05.03.2014    ggu     new subdts.h and new routine dts_has_date()
c
c ./fem3d/basbathy.f:
c 13.02.2014    ggu     new data written, can read also bas file
c 05.03.2014    ggu     subroutines copied to other routine
c
c ./fem3d/newconz.f:
c 13.02.2014    ggu     routines for reading initial condition
c
c ./fem3d/subinterpol.f:
c 21.02.2014    ggu     subroutines copied from basbathy
c
c ./fem3d/subinterpol1.f:
c 27.02.2014    ggu     subroutines copied from basbathy
c
c ./fem3d/scalintp.f:
c 13.02.2014    ggu     new data written, can read also bas file
c
c ./fem3d/subgeo.f:
c 21.02.2014    ggu     new routine centert and centerpoly




18.02.2014

getpar for time converted to dgetpar
new basbathy to read also bas file
initial condition for concentration (conzin)

c ./fem3d/basbathy.f:                                                           
c 13.02.2014    ggu     new data written, can read also bas file                
c                                                                               
c ./fem3d/newconz.f:
c 13.02.2014    ggu     routines for reading initial condition




28.01.2014

no advection for single open boundaries
new file format ets
restructured nos, ous
2nc use date/time now
optintp.f

c ./femplot/supbas.f:
c 13.12.2013  ggu     new mode=4 for plotting grey grid over scalar variable
c
c ./fem3d/subetsa.f:
c 24.01.2014    ggu     copied from subexta.f
c
c ./fem3d/subnos.f:
c 18.01.2014    ggu     restructured, new date,time,femver (version 4+5)
c
c ./fem3d/subnls.f:
c 20.01.2014    ggu     new routine nrdtable()
c
c ./fem3d/subousa.f:
c 20.01.2014    ggu     new calls for ous writing implemented
c
c ./fem3d/etsinf.f:
c 24.01.2014    ggu     copied from nosinf.f
c
c ./fem3d/subres.f:
c 20.01.2014    ggu     new calls to ous routines
c
c ./fem3d/subets.f:
c 24.01.2014    ggu     copied from subnos.f
c
c ./fem3d/bdist.f:
c 13.12.2013    ggu     make local distances using boundary parameter nad
c
c ./fem3d/splitets.f:
c 27.01.2014    ggu     copied from splitext
c
c ./fem3d/etsutil.f:
c 24.01.2014    ggu     copied from nosutil.f
c
c ./fem3d/nosutil.f:
c 20.01.2014    ggu     new helper routines
c
c ./fem3d/subous.f:
c 18.01.2014    ggu     restructured, new date,time,femver
c
c ./fem3d/subcon1.f:
c 20.01.2014    ggu     new writing format for nos files in confop, confil
c
c ./fem3d/ousutil.f:
c 20.01.2014    ggu     new helper routines




05.12.2013

c ./fem3d/newcon.f:
c 03.12.2013    ggu&deb bug fix for horizontal diffusion
c
c ./fem3d/subbnd.f:
c 29.11.2013    ggu     allow for non continous boundary numbering
c
c ./fem3d/new3di.f:
c 29.11.2013    ggu     zeta correction
c
c ./fem3d/subele.f:
c 29.11.2013    ggu     new subroutine masscont()
c
c ./fem3d/subn11.f:
c 29.11.2013    ggu     prepared for ibtyp == 0



29.10.2013

c ./femplot/supiso.f:
c 29.10.2013    ggu     new routine pldif (plotting isolines between areas)
c
c ./fem3d/new3di.f:
c 29.10.2013    ggu     nudging implemented
c
c ./fem3d/ht.f:
c 29.10.2013    ggu     nudging implemented



25.10.2013

c ./femplot/col.f:
c 01.10.2013    ggu     bug fix for valmin/valmax too close
c
c ./fem3d/tmp/new/newexpl_ggu5.f:
c 13.09.2013    dbf&ggu new sigma layer adjustment integrated
c
c ./fem3d/tmp/new/newexpl.f:
c 13.09.2013    dbf&ggu new sigma layer adjustment integrated
c
c ./fem3d/tmp/netcdf/ts2nc.f:
c 25.09.2013    ggu     restructured
c
c ./fem3d/vp.f:
c 04.10.2013    ggu     in optest better error handling
c
c ./fem3d/subnev.f:
c 30.09.2013    ggu     new routines gradient_normal/tangent
c
c ./fem3d/netcdf.f:
c 25.09.2013    ggu     new routines for writing time series
c
c ./fem3d/ts2nc.f:
c 25.09.2013    ggu     restructured




05.09.2013

	sigma and depth restructured

c ./femplot/plotsim.f:
c 05.09.2013    ggu     better handling of variable
c
c ./femplot/supsim.f:
c 05.09.2013    ggu     endtime() and nplot introduced
c
c ./femplot/suptim.f:
c 05.09.2013  ggu     new routine endtime()
c
c ./femplot/supout.f:
c 03.09.2013  ggu     level_k2e -> level_k2e_sh, level_e2k -> level_e2k_sh
c
c ./femplot/supdep.f:
c 05.09.2013    ggu     adapt to new get_layer_thickness()
c
c ./femplot/supano.f:
c 05.09.2013  ggu     adjust for scale distortion in ref and wind arrows
c
c ./femplot/supint.f:
c 05.09.2013  ggu     handle variable choice better
c
c ./fem3d/subver.f:
c 12.09.2013    ggu     version 6.1.67
c
c ./fem3d/sigmautil.f:
c 05.09.2013    ggu     new call interface to get_layer_thickness()
c
c ./fem3d/ousextr_nodes.f:
c 05.09.2013    ggu     new call to get_layer_thickness()
c
c ./fem3d/newbcl.f:
c 05.09.2013    ggu     limit salinity to [0,...]
c                                                                               
c ./fem3d/newsig.f:                                                             
c 05.09.2013    ggu     no set_sigma_hkv_and_hev()                              
c                                                                               
c ./fem3d/nosextr_nodes.f:                                                      
c 05.09.2013    ggu     new call to get_layer_thickness()                       
c                                                                               
c ./fem3d/subnsa.f:                                                             
c 22.08.2013    ggu     new string2ivar() and similar changes                   
c 05.09.2013    ggu     nlsa now wants integer, better handling of what to read 
c                                                                               
c ./fem3d/ht.f:                                                                 
c 05.09.2013    ggu     changed order of adjust depth and barene structures     
c                                                                               
c ./fem3d/genutil.f:                                                            
c 05.09.2013    ggu     new routine compute_levels_on_element()                 
c                                                                               
c ./fem3d/nosutil.f:
c 05.09.2013    ggu     new call to get_layer_thickness()
c
c ./fem3d/subdep.f:
c 05.09.2013    ggu     new routine set_sigma_hkv_and_hev() from newsig.f
c
c ./fem3d/newini.f:
c 23.08.2013    ggu     renamed adjust_k_depth() to make_hkv() -> to subdep
c 23.08.2013    ggu     depth routines to subdep.f
c 05.09.2013    ggu     in adjust_levels() allow for nlv==1
c
c ./fem3d/ousutil.f:
c 05.09.2013    ggu     new call to get_layer_thickness()
c
c ./fem3d/subapn.f:
c 05.09.2013    ggu     read_apn_file() needs integer now





23.08.2013

c ./fem3d/subnsa.f:
c 22.08.2013    ggu     new string2ivar() and similar changes



19.06.2013

c ./femplot/supbas.f:
c 14.06.2013  ggu     bug fix in calling scale_legend -> get dims
c
c ./fem3d/subtsuvfile.f:
c 17.06.2013    ggu     do not pass finction into subroutine
c
c ./fem3d/subbfm.f:
c 17.06.2013    ggu     bug fix: wsinkv was not present in call
c
c ./fem3d/suboff.f:
c 17.06.2013    ggu     eliminated compiler warnings


13.06.2013

	offline
	bug fixes
	fem files (also plotting)
	easier depth copying/computing


c ./femplot/plotsim.f:
c 13.06.2013    ggu     new plotting for fem files
c
c ./femplot/supsim.f:
c 13.06.2013    ggu     new routine plofem()
c
c ./femplot/supbas.f:
c 13.06.2013  ggu     bug fix in spherical_fact() -> set fact to 1
c
c ./femplot/supout.f:
c 13.06.2013  ggu     new routines for handling FEM files
c
c ./femplot/supdep.f:
c 10.06.2013    ggu     bug fix in mkht,mkht3 (get_layer_thicknes_e)
c
c ./femplot/col.f:
c 13.06.2013    ggu     small bug fix for computation of dval with rnext
c
c ./femplot/supint.f:
c 13.06.2013  ggu     scans varnam to decide what to plot
c
c ./fem3d/sigmautil.f:
c 17.05.2013    ggu     layer_thickness for elem and node, general routine
c 17.05.2013    ggu     new routine get_bottom_of_layer()
c
c ./fem3d/basbathy.f:
c 13.06.2013    ggu     copy_depth() renamed to transfer_depth()
c
c ./fem3d/ousextr_nodes.f:
c 17.05.2013    ggu     prepared for write_profile
c
c ./fem3d/subvintp.f:
c 04.06.2013    ggu     bug fix: restore altered values zb1_save,var1_save
c
c ./fem3d/nosextr_nodes.f:
c 17.05.2013    ggu     prepared for write_profile
c
c ./fem3d/subnsa.f:
c 13.06.2013    ggu     read also varnam to decide what to plot and read
c
c ./fem3d/subsys.f:
c 16.05.2013    ggu     file name bound renamed to zinit
c
c ./fem3d/subflxu.f:
c 14.05.2013    ggu     deleted error check between 2d and 3d computation
c
c ./fem3d/ht.f:
c 13.06.2013    ggu     set/copydepth simplified, offline version
c
c ./fem3d/basbox.f:
c 14.05.2013    ggu     subroutines cleaned
c
c ./fem3d/subele.f:
c 13.06.2013    ggu     new helper functions make_old_depth and copy_depth
c
c ./fem3d/newexpl.f:
c 10.05.2013    dbf&ggu new routines for vertical advection (bvertadv)
c 10.05.2013    dbf&ggu new routines for non-hydro
c 25.05.2013    ggu     new version for vertical advection (bvertadv)
c
c ./fem3d/subboxa.f:
c 14.05.2013    ggu     write also OBC sections and contributions
c
c ./fem3d/bastreat.f:
c 13.06.2013    ggu     copy_depth() renamed to transfer_depth()
c
c ./fem3d/subfemfile.f:
c 16.05.2013    ggu     better documentation
c
c ./fem3d/suboff.f:
c 13.06.2013    ggu     new routines written from scratch




14.05.2013	OBC in box computations

	OBC also in box computations (basbox.f,subboxa.f)
	cleaned some checks in flux computation (subflxu.f)





10.05.2013	new non-hydrostatic routines

	new file for non hydrostatic terms (newnohydro.f)
	initialization (ht.f)
	explicit terms and vertical advection (newexpl.f)
	implicit resolution of q (new3di.f)

10.05.2013	new boxes computations

	deal with boxes (basbox.f,subboxa.f,subsys.f)
	fluxes refactroed (subflxa.f,subflxu.f)



c ./femplot/plotsim.f:
c 27.02.2013    ggu     deleted amat, better color handling
c
c ./femplot/supbas.f:
c 02.05.2013  ggu     handle fact in spherical coords, meteo point plotting
c
c ./fem3d/subnls.f:
c 27.02.2013    ggu     handle extra information on section line
c
c ./fem3d/subnsa.f:
c 27.02.2013    ggu     pass what parameter into nlsa, handle extra info
c
c ./fem3d/netcdf.f:
c 28.01.2013    dbf     different types of vertical coordinates
c
c ./fem3d/netcdf_util.f:
c 20.02.2013    ggu     new routines get_period() and check_period()
c
c ./fem3d/ous2nc.f:
c 20.02.2013    ggu     choose period implemented
c
c ./fem3d/subscn.f:
c 20.02.2013    ggu     new routine iscand, istof changed to istod
c
c ./fem3d/nos2nc.f:
c 20.02.2013    ggu     choose period implemented
c
c ./fem3d/subrgf.f:
c 02.05.2013    ggu     bug fix: call to rgf_intp() was wrong
c
c ./fem3d/subapn.f:
c 27.02.2013    ggu     pass what parameter into nlsa






c ./fem3d/subnos.f:
c 21.01.2013    ggu     code for next and back record
c
c ./fem3d/tmp/ous2nc_fem.f:
c 21.01.2013    ggu     restructured
c
c ./fem3d/tmp/ous2nc_reg.f:
c 21.01.2013    ggu     restructured
c
c ./fem3d/tmp/nos2nc_fem.f:
c 21.01.2013    ggu     restructured
c
c ./fem3d/tmp/ous2nc.f:
c 21.01.2013    ggu     restructured
c
c ./fem3d/tmp/nos2nc.f:
c 21.01.2013    ggu     restructured
c
c ./fem3d/tmp/nos2nc_reg.f:
c 21.01.2013    ggu     restructured
c
c ./fem3d/ousextr_nodes.f:
c 25.01.2013    ggu     code cleaned
c
c ./fem3d/lagrange_track.f:
c 25.01.2013    ggu     error check to avoid segfault (INTERNAL ERROR)
c
c ./fem3d/sedi3d.f:
c 25.01.2013    ggu     mixed real/double common blocks spearated
c
c ./fem3d/nosextr_nodes.f:
c 25.01.2013    ggu     routines cleaned
c
c ./fem3d/netcdf.f:
c 25.01.2013    ggu     new part for nos variable initialization
c
c ./fem3d/ousinf.f:
c 25.01.2013    ggu     utility routines to ousutil.f
c
c ./fem3d/netcdf_util.f:
c 21.01.2013    ggu     routines transfered from ous2nc.f
c
c ./fem3d/genutil.f:
c 25.01.2013    ggu     new routine level_k2e()
c
c ./fem3d/ous2nc.f:
c 21.01.2013    ggu     restructured
c 25.01.2013    ggu     regular and fem outout in one routine
c
c ./fem3d/nosutil.f:
c 25.01.2013    ggu     new routines nos_get_vars()
c
c ./fem3d/ousutil.f:
c 21.01.2013    ggu     added two new routines comp_vel2d, comp_barotropic
c
c ./fem3d/nos2nc.f:
c 21.01.2013    ggu     restructured





c ./fem3d/subnos.f:
c 02.12.2012    ggu     restructured
c
c ./fem3d/ousextr_records.f:
c 17.12.2012    ggu     bug: opened nos file instead of ous file





c ./fem3d/subnos.f:
c 16.11.2012    ggu     in wrnos bugfix - call setnos first
c
c ./fem3d/intp.f:
c 16.11.2012    ggu     if franco == 99 -> use PS as forecast (init_ps)
c
c ./fem3d/splitext.f:
c 16.11.2012    ggu     allow for direct writing values to files (bdirect)




c ./fem3d/subtsuvfile.f:
c 29.10.2012    ggu     created from scratch
c
c ./fem3d/subnos.f:
c 30.10.2012    ggu     new format for date and time (new accessor routines)
c
c ./fem3d/newbcl.f:
c 31.10.2012    ggu     open and next_record transfered to subtsuvfile.f
c
c ./fem3d/subreg.f:
c 26.10.2012    ggu     bug fix: do not access not existing storage




c ./femplot/supbas.f:
c 24.10.2012  ggu     bug in labelling non spherical grid (returned -1)
c
c ./femplot/suplin.f:
c 22.10.2012    ggu     dxmin introduced to plot arrow every dxmin distance
c 24.10.2012    ggu     bsmooth introduced for smooth bottom plotting
c
c ./fem3d/subdts.f:
c 23.10.2012    ggu     unpackdate() and dtsini() accepts also only year
c
c ./fem3d/lagrange_main.f:
c 22.10.2012    ggu     call connectivity also after diffusion
c 22.10.2012    ggu     limit release to itranf/end
c
c ./fem3d/lagrange_cont.f:
c 23.10.2012    ggu     do not call connectivity here anymore
c
c ./fem3d/subbfm.f:
c 22.10.2012    ggu     saved some variables
c
c ./fem3d/lagrange_connect.f:
c 22.10.2012    ggu     prepared for circular area to receive particles
c
c ./fem3d/subreg.f:
c 10.10.2012    ggu     new routine fm2am2d() and fm2am3d()
c
c ./fem3d/subsys.f:
c 24.10.2012    ggu     new parameter dxmin




c ./femplot/suplag.f:
c 01.10.2012    ggu     use station to get color in plot (ip_station)
c
c ./fem3d/prep_input.f:
c 03.10.2012    ggu     written from basinf
c
c ./fem3d/newbsig.f:
c 05.10.2012    ggu     intp_vert() and intp_aver() transfered to subvintp.f
c
c ./fem3d/subvintp.f:
c 04.10.2012    ggu     copied from newbsig.f
c
c ./fem3d/lagrange_inout.f:
c 01.10.2012    ggu     output concentrations only for one station
c
c ./fem3d/subfile.f:
c 02.10.2012    ggu     created from scratch






c ./femplot/supbas.f:
c 30.08.2012  ggu     new routines to automaticallylabel spehrical grid
c
c ./fem3d/subnev.f:
c 30.08.2012    ggu     new routine is_spherical()





c ./fem3d/lagrange_flux.f:
c 28.08.2012    ggu&ccf bug fix - ok now for 3d surface tracking
c
c ./fem3d/lagrange_main.f:
c 28.08.2012    ggu     change logic for release, time frame for release
c
c ./fem3d/noswrite.f:
c 05.08.2012    ggu     new name noswrite
c
c ./fem3d/subrst.f:
c 28.08.2012    aac     bug fix for restart time = -1 (rdrst_record)
c
c ./fem3d/nosextr_cat.f:
c 05.08.2012    ggu     bug fix - first read, then open for write
c
c ./fem3d/ht.f:
c 05.08.2012    ggu     bug because lam2dn and dmfd2n not defined





c ./fem3d/subpar1.f:
c 25.06.2012    ggu     debugged

mud module integrated (submud.f, subgotm_mud.f etc...





c ./femplot/suplin.f:
c 20.06.2012    ggu     plots bottom also for sigma layers (plot_bottom())
c
c ./fem3d/newcon.f:
c 21.06.2012    ggu&ccf variable vertical sinking velocity integrated
c
c ./fem3d/subn35.f:
c 21.06.2012    ggu&aar new friction for mud module
c
c ./fem3d/subbnd.f:
c 21.06.2012    ggu&aar new file names for mud module
c
c ./fem3d/subreg.f:
c 20.06.2012    ggu     new routine get_scal_elem()
c
c ./fem3d/ht.f:
c 21.06.2012    ggu&aar fluid mud variables integrated
c
c ./fem3d/newstab.f:
c 21.06.2012    ggu&ccf variable vertical sinking velocity integrated





 * ./grid/general.h:
 * 01-Jun-2012: HACK for grid to work on Mac: __GUG_UNIX_ = 1           *
 * ./mesh/meshck.c:
 * 01-Jun-2012: better checking of input lines                          *
c ./femspline/gridr.f:
c 27.05.2012    ggu     renamed ndim to nsdim in smooth()
c
c ./femplot/supano.f:
c 01.06.2012  ggu     new circle item for legend, auto determ for ndec
c
c ./fem3d/ousextr_gis.f:
c 01.05.2012    ggu     segfault because some arrays not in common
c
c ./fem3d/subdts.f:
c 01.06.2012    ggu     work also with date=0
c
c ./fem3d/basbathy.f:
c 01.06.2012    ggu     some more changes
c
c ./fem3d/subsys.f:
c 02.05.2012    ggu     new default for ndccol (-> 0)
c
c ./fem3d/subflx3d.f:
c 04.05.2012    ggu     bug fix: in flx3d_k correct for flux boundary
c
c ./fem3d/subscn.f:
c 02.05.2012    ggu     new routine ideci()





30.03.2012	small cosmetic changes

	new call to nodeinfo() (was bug) (adjele.f)

========================================================== 30-03-2012 - 6_1_51

29.03.2012	compiler warnings, speed optimizations, sp256v with OpenMP

	use ngrdim1 to avoid too small dimension for ngrdim (vp.f)
	avoid call to areaele -> ev(10,ie) (subgotm.f, subele.f)
	avoid call to coo_find (subcoo.f)
	introduce zero and one as double (bug, was int before) (subspk.f)
	cleaned up, sp256v prepared for OpenMP (new3di.f)

26.03.2012	compiler warnings

	call mkht only for bvel .or. btrans (plo2vel) (supsim.f)
	if opening already open file -> better error message (subfil.f)
	bfm1-3 had wrong second dimension (subbfm.f)
	standardized implicit routines, compiler warnings (netcdf.f)

23.03.2012	compiler warnings, Rules.make cleaned

	bug fix - dst was not available in setup_vl_3d (lagrange_flux.f)
	new calling for track_body (id) (lagrange_back.f)

========================================================== 21-03-2012 - 6_1_50

21.03.2012	new parts of manual

========================================================== 19-03-2012 - 6_1_49

19.03.2012	manual and administrative commands, install routines

========================================================== 16-03-2012 - 6_1_48

	if no basin is given return with "error" (subapn.f)

16.03.2012	compiler errors, better install, test compile

	fixed compiler errors for gfortran (submeteo_inout.f)
	bug fixes (suputi.f,supdep.f)
	new test_compile.sh

16.03.2012	enhancements

	write transformed lines (basproj.f,grdutil.f)
	better interpolation for bathymetry (basbathy.f)

14.03.2012	aquabc adjusted

	compiler errors for gfortran (aquabc.f,alukas.f,aquabc_fem_interface.f)
	added dummies for restart (aquabc_fem_interface.f,weutro.f)

========================================================== 09-03-2012 - 6_1_47

09.03.2012	other bug fixes - new residence time routines

	residence time routines integrated (ht.f, subwrt.f, subcus.f)
	fail more gently for dimension error (subgrd.f, vp.f)
	bug fix: ilhkv was real (newbcl.f,bio3d_util.f)
	bug fix: zenv must be common (ousextr_nodes.f)
	bug fix: introduced epsggu to avoid nan in time (lagrange_track.f)

========================================================== 24-02-2012 - 6_1_46

23.02.2012	other bug fixes - new meteo framework

	new meteo files (submeteo1.f,meteo.h,submeteo_inout.f,subrgf.f,ht.f)
	fixes for hybrid (newbcl.f, newsig.f)
	fixes for plotting (supdep.f, supint.f)

========================================================== 17-02-2012 - 6_1_45

17.02.2012	various bug fixes

	no cast of (char) for type of element and line (meshgd.c)
	bug fix reading lines (lagrange_init.f)
	new way to kill particles (lagrange_decay.f)
	new routine bnds_init0 (subbnds.f)
	restart for bfm (subbfm.f)
	new routine meteo_get_solar_radiation() (submeteo.f)

========================================================== 14-02-2012 - 6_1_44

14.02.2012	various fixes from Lithuania

	bug fix with maximum area and line of depth (exgrd.c,meshck.c)
	bug fix in call to ts_next_record (newbcl.f)
	quality of basin with angles (basinf.f)
	plot bathymetry on elements (supsim.f)
	limit meteo values to acceptable range (submeteo.f)
	read also lines if dimension given (grdutil.f)
	write only last record, restart from last record (subrst.f)
	skip records in nos file (subnos.f,nosutil.f)
	concatenate files (nosextr_cat.f,ousextr_cat.f)

========================================================== 27-01-2012 - 6_1_43

27.01.2012	changes to hybrid code (deb)

	adjusted for hybrid coordinates (suplin.f,newbsig.f,newsig.f))
	new compute_sigma_info() and changed get_layer_thickness() (sigmautil.f)
	routines adapted for sigma levels (newtra.f,subdry.f)
	changes for hybrid in ts_file_open,ts_next_record (newbcl.f)

========================================================== 25-01-2012 - 6_1_42

24.01.2012	administer OMP parallel routines

	new routines subomp.f
	new routine setup_parallel() (ht,subnsh.f)
	adapted for parallel OMP (lagrange_main.f)
	new parameter nomp (subsys.f)

========================================================== 24-01-2012 - 6_1_41

23.01.2012	logo and install

	automatic inclusion of logo (gp, plots, fembin/logo)
	hard install of model (shyfem_install_hard.*)

23.01.2012	projection

	new section proj (subnsh.f)
	bug fix: c_param was real (subproj.f)

23.01.2012	lagrangian revision (seg fault, connectivity)

	new call to insert_particle, new id_body (lagrange_inout.f)
	ltbdy is locally passed (not common) (lagrange_track.f)
	various changes to track_body (id, etc..) (lagrange_main.f)
	new routine for release in point, connectivity (lagrange_cont.f)
	use nbdydim in plolagr, plot z with color in plo_xy (suplag.f)

19.12.2011	bug fixes

	bug fix: sflag was not set (plotsim.f)
	new routine level_k2e -> called for nos files (supout.f)
	bug fix in init_sigma_info(): call set_sigma_info() (sigmautil.f)

16.12.2011	lagrange

	lagrange for input over boundary (lagrange_cont.f)
	new info id_body (lagrange.h,lagrange_main.f,lagrange_inout.f)
	new file .lgi (lagrange.h,lagrange_main.f,lagrange_track.f)
	compress_particles into main (lagrange_main.f)
	bug fix: flux2d_aux was integer (lagrange_flux.f)

16.12.2011	various bug fixes

	check for non-initialized data structure (blockdata) (sigmautil.f)
	bug fix: call to init_sigma_info and makehev (common hev)
			(ousextr_nodes.f,ousinf.f)
	in lnk_elems at boundary set last value to 0 (sublnku.f)
	bug fix: in make_fluxes_2/3d() r/tflux was integer (subflx3d.f)

========================================================== 14-12-2011 - 6_1_40

14.12.2011	ERSEM/BFM

	up and running for ifort and gfortran

========================================================== 12-12-2011 - 6_1_39

12.12.2011	mesh and tide

	new component (MSm) in tidal computation (tideg.f)
	eliminated (stupid) compiler bug (getpar) (newsig.f)
	new way to handle lines for mesh (mesh.c,meshge.c,meshck.c)

========================================================== 09-12-2011 - 6_1_38

05.12.2011	netcdf

	new file written from scratch (netcdf.f)

02.12.2011	various fixes

	smoothing and reducing (gridr.f, hash.f)
	adapt ts_file_open() for barotropic version (ihashl) (newbcl.f)
	print_bound_nodes() for writing out boundary nodes (sublnka.f)

02.12.2011	sigma/hybrid levels

	bug fix for call to get_sigma_info() (nosutil.f,ousutil.f)
	bug fix in init_sigma_info() for nlv == 1 (sigmautil.f)
	use of intp_aver() for lmax = 1 (newbsig.f)

24.11.2011	tvd

	bug in tvd_init -> not fully resolved... (newtvd.f)
	better routines to handle spherical coordinates (subnev.f)
	new routine find_close_elem() (subreg.f)

23.11.2011	plotting

	rcol for colored lines in taylor diagram (taylor.f)
	in line_find_elements() adjust depth for hybrid (suplin.f)

========================================================== 22-11-2011 - 6_1_37

22.11.2011	read T/S files

	bug fix in ts_file_open() -> bhashl (newbcl.f)

18.11.2011	hybrid

	restructured hybrid (newsig.f, bashsigma.f)
	new routines (subdep.f)

18.11.2011	projection

	new projection handling (ht.f, subproj.f, subsys.f)
	in CCP changed order of params in c_param (subcoord.f, basproj.f)
	deleted projection code from subroutines (submeteo.f, tideg.f)

15.11.2011	taylor plot and vp (hsigma)

	new configuration routines for taylor plot (taylor.f)
	new pre-processing of mixed depth (vp.f)

14.11.2011	hybrid plot

	use of routines in sigmautil.f (supout.f, supdep.f)
	hybrid levels introduced (suplin.f)
	new array hl (plotsim.f)

14.11.2011	hybrid fixes

	new sigma routines (genutil.f, sigmautil.f)
	more error checks (newsig.f,subele.f)
	bug fix in adjust_levels (newini.f)
	for zeta levels set depth constant (newsig.f)
	better read of initial conditions (newbcl.f)

10.11.2011	cosmetic changes for revision log

========================================================== 10-11-2011 - 6_1_36

10.11.2011	more on hybrid levels

	adjust depth for hybrid levels (newsig.f)
	bug fix for zeta levels (subele.f)
	refactoring (newbcl.f)
	init_volume() changed (nosresidence.f, nosaver_*.f, map_influence.f)
	utilities changed (genutil.f, nosutil.f, ousutil.f)

========================================================== 04-11-2011 - 6_1_35

04.11.2011	hybrid levels

	hybrid levels (newini.f, newexpl.f, subele.f, newbcl.f)
	hybrid levels (newsig.f, subsys.f, newbsig.f)
	hybrid levels for lagrange (lagrange_flux.f)
	code cleaning (new3di.f)
	
25.10.2011	hlhv eliminated

	hlhv eliminated (newini.f, subele.f, ht.f, newchk.f)
	some routines renamed (newbsig.f)
	started routines for residence time (subwrt.f)
	bug fix for psigma (newexpl.f)

========================================================== 24-10-2011 - 6_1_34

24.10.2011	lagrangian for 3d

	renamed old variables (fx->flux2d) (lagrange.h)
	new variables (flux3d,vel3d_ie) (lagrange.h)
	new flux routines for lagrangian (lagrange_flux.f)

20.10.2011	fluxes in 3d

	new file subflx.f
	new 3d write (flxinf.f)
	scalar write for fluxes implemented (subflxa.f)
	more general routines for finite volume and section (subflx3d.f)
	dimension check for link routines (sublnku.f)

========================================================== 18-10-2011 - 6_1_33

07.10.2011	small bug fixes

	error calling extelev with nkn, and not nel (supsim.f)
	initialize some variables (lagrange_init.f)
	subeos -> nel -> nel_lev (subeos.f)

21.09.2011	restructured flx routines

	flx routines (subflxa.f, subflx3d.f, flxinf.f, splitinf.f)
	change default for isphe (subsys.f)
	new routine set_bsigma() (newsig.f)
	better error check in rdtitl (subnsh.f)

13.09.2011	install

	bug fix in install routine (shyfem_install.pl,symlink)

========================================================== 01-09-2011 - 6_1_32

31.08.2011	copyright notice, plotting of element values (EOS)

	copyright notice in all major programs (ht,vp,adjele,...)
	EOS plotting (plotsim.f,supsim.f,supout.f,supiso.f,supint.f)
	eos handling routines (subeos.f)

========================================================== 26-08-2011 - 6_1_31

26.08.2011	new subver structure

========================================================== 26-08-2011 - 6_1_30

25.08.2011	baroclinic forcing for sigma layers introduced

	baroclinic gradient for sigma level integrated (newexpl.f)
	small changes to avoid run time errors (suplin.f, newini.f)
	plot sections with real depth coming from hev, not hlv (zeta levels)
	new utility command: grd_closest.pl
	modified utility commands: convert_date.pl,gpsinsert.pl,strparse.pl

========================================================== 19-08-2011 - 6_1_29

18.08.2011	various bug fixes

	better error check of node list (suplin.f)
	isoinp for plotting in element (subsys.f, supiso.f)
	compiler error fixed in nosopen() (supout.f)
	bug fix in idefbas() -> use status (subdef.f)
	bug fix in binwin() -> close file (subwin.f)
	bug fix in getfnm() -> limit chars copied

	nodes2grd.pl to format node list for grd

========================================================== 15-07-2011 - 6_1_28

15.07.2011

	new calls to read bas/sim (vp.f, subapn.f subcst.f)
	call to vertical flux re-introduced (newcon.f)
	more info on stability (newstab.f)
	checksum (newchk.f, debug.f)

========================================================== 14-07-2011 - 6_1_27

14.07.2011	various changes

	treating dry areas (supsim.f,supout.f,ousaver.f)
	cleaned default opening (subdef.f)
	frequency curves (basinf.f)
	plot stability index (newstab.f)
	loop only over actual levels (newchk.f, newcon.f)
	area computation (64bit bug) (subnsu.f subuti.f)
	vertical flux (newcon.f)
	time step output frequency (subnsh.f)

========================================================== 08-06-2011 - 6_1_26

08.06.2011	new post processing routines

	new routines (nosextr_fluxes.f, nosextr_cat.f, ousextr_cat.f)
	better error check (subous.f)
	transfrom to transport in nodes (ousutil.f)

========================================================= 07-06-2011 - 6_1_25

07.06.2011	wetting and drying

	slight changes in wetting and drying (subdry.f)

03.06.2011	extraction routines adjourned

	ousextr_gis.f, ousextr_records.f, ousextr_nodes.f
	nosextr_gis.f, nosextr_records.f, nosextr_nodes.f
	ousutil.f, genutil.f

01.06.2011	small changes

	idtmin introduced (subnsh.f, subsys.f)
	use constant albedo (subqfxu4.f)

01.06.2011	wsink for stability

	wsink for stability integrated (newcon.f, newstab.f)

01.06.2011	compiler errors Compaq Fortran

	call to do_gotm_turb was wrong (kepsd.f)
	documentation to flxscs() changed (subflxa.f)
	bug fix in green() -> i instead ii (subdif.f)

01.06.2011	shyfem administrative routines

31.05.2011	cleanup of BFM

	changes for BFM (subnsh.f)
	clean from useless common blocks (subbfm.f)

========================================================== 31-05-2011 - 6_1_24

31.05.2011	new BFM modules

========================================================== 31-05-2011 - 6_1_23

30.05.2011	administrative changes

	routines on regular files in reg directory (fem3d)
	cvs routines moved to cvs directory (fembin)
	changes in git* routines

20.05.2011	changes in wetting and drying

	changes in set_timestep(), element removal, idtmin (subnsh.f)
	new routines set_dry() and set_element_dry(ie) (subdry.f)
	different algorithm for element removal (wet&dry) (subdry.f)
	iwetv introduced, wet and dry from main (ht.f)
	compute statistics of stability, no stab in dry elemes (newexpl.f)
	allow for elimination of elems due to high rstab (newstab.f)

17.05.2011	minor enhancements

	compiler warnings in qfcheck() (subqfxf.f)
	new routine check_set_unit() to set output unit (newchk.f)
	new routines skadar_debug() and wet_dry() (subcus.f)
	new routines to adjourn depth (subdep.f)

17.05.2011	plotting of node/element number

	in plobas may plot node and element numbers (supsim.f)
	new routine basin_number() (supbas.f)


19.04.2011	compiler warnings in MACOSX

	introduced HAVE_WIDGET for compiler errors (xgraph.[ch], general.h)

========================================================== 14-04-2011 - 6_1_22

31.03.2011	check in vp, write of temp/salt

	new routine check_sidei(), text in optest() (vp.f)
	only write temp/salt if computed (newbcl.f)

31.03.2011	no plot in dry areas

	new arrays fvlv, arfvlv (plotsim.f)
	read fvl file (supsim.f)
	new routine elemmask() (subreg.f)
	new routine mkareafvl() (supdep.f)
	write finite volumes at initial time step (ht.f)
	routines to handle fvl files (supout.f)

30.03.2011	heatgotm, small changes

	bug in heatgotm() -> convert pressure to Pascal (subqfxm4.f)
	more sanity tests in pre-processing (vp.f, subcmv.f)
	new routines to delete elements (bastreat.f)
	in plot new routines to handle fvl files (supout.f)
	
25.03.2011	small changes

	new parameters iheat,hdecay,botabs (subsys.f,subqfxt.f)
	error check for aapar and itvdv(newcon.f)
	bug fix in bndo_impbc() -> ibcold not initialized (subbndo.f)

========================================================== 01-03-2011 - 6_1_21

23.03.2011	heatgotm, siphe, itvdv

	itvdv
		new parameter itvdv (newcon.f,subsys.f)
	heat fluxes
		bug in heatgotm() -> avoid wind speed == 0 (subqfxm4.f)
		new routine check_heat() to check for Nan (subqfxt.f)
		new iheat (subqfxt.f)
	isphe (bug)
		new routine adjust_spherical() (newini.f,ht.f)
		get isphe through get_coords_ev() (newtvd.f)
		better set-up and error check for isphe_ev and isphe 
			(newini.f, subnev.f)

04.03.2011	heatgotm

	heat module from gotm extracted (subqfxm4.f)
	new routine heatgotm (subqfxt.f)

========================================================== 01-03-2011 - 6_1_20

01.03.2011	levflx

	implement smoothing for levflx (subn11.f)

25.02.2011

	new param wsmax to catch errors in wind type (subwin.f, subsys.f)
	new routine decay_conz_variable(), add t90 time scale (newconz.f)
	new routine nossum.f
	new directory hcbs -> libgrappa

23.02.2011

	new parameters tramp and levflx implemented (subn11.f, subbnd.f)
	smoothing for levflx
	new routine call write_node_fluxes() for special output (subflxa.f)
	in pritime() new write to terminal (subnsh.f)
	error check for dzreg, nsigma and levels (newini.f)

19.02.2011

	3D radiation stress (new3di.f)

========================================================== 18-02-2011 - 6_1_19

18.02.2011

	general framework for ecological model
		ecological_dummy.f
	new radiation stress in 3D
		ht.f, subwwm.f
	./fem3d/subrgf.f: bug fix in rgf_check_header() -> get instead of set

========================================================== 17-02-2011 - 6_1_18

16.02.2011

	lat/lon
		changed default for isphe -> always automatic (subsys.f)
	meteo restructured
		subrgf.f completely restructured - store geo information
		pstd introduced (subqfxm3.f subqfxm1.f,subwin.f)
		pass idata to files, use geo info from files (submeteo.f)
		new file submet.f (from subn11.f)
		conversion from specific humidity (not working) (subqfxu1.f)
	projection
		new projection 4 (non standard UTM)
	aquabc
		new files included
		some helper routines to deal with nodal area code (subn35.f)
	nudging
		pass robs to subroutines (newcon.f, newstab.f)
	grid
		pass type into routines for creation of items
		new options OpOutFile, OpItemType
		new routine savestr()
	minor
		new routine trimline() (subsss.f)
		in diffweight() use double precision (subdif.f)
		new routines e2n3d() and e2n3d_minmax() (newtra.f)
		write n2max to info file (subgotm.f)

05.02.2011	submeteo restructured

	changed order of records in dfile (actual is first) (submeteo.f)

28.01.2011	tvd for lat/lon

	tvd for lat/lon
		bug fix for distance with lat/lon (tvd_fluxes) (newtvd.f)
		insert ISPHE for lat-long coordinates
		new entry in ev for distance of nodes (17-19) (subnev.f)

	nudging
		parameters changed in call to ts_nudge() (newbcl.f)

========================================================== 27-01-2011 - 6_1_17

27.01.2011	nudging

	nudging (t/s/cobs, bobs)
		./fem3d/newcon.f:
		./fem3d/newbcl.f:
		./fem3d/ht.f:
		./fem3d/newstab.f:
	new routines for maniploating grd/bas files
		./fem3d/basres.f:
		./fem3d/basproj.f:
		./fem3d/grdutil.f:
	new default for isphe for lat/lon
		./fem3d/subnev.f:
	./fem3d/subreg.f:
		handling extrapolation in am2av(
		bug fix in find_elem_from_old() BUG_27.01.2011

21.12.2010	plot of sigma layers

	vertical velocity section plotting with sigma
		./femplot/suplin.f:

========================================================== 20-12-2010 - 6_1_16

17.12.2010	plot of sigma layers

	in sp256w() account for changing volume (sigma)

	substituted hv with hkv
	new routine hlthick() (supdep.f)

========================================================== 16-12-2010 - 6_1_15

16.12.2010	sigma layers (first implementation)

	sigma layers partially finished
		./fem3d/newbcl.f:
		./fem3d/newini.f:
		./fem3d/newexpl.f:
		./fem3d/subele.f:
		./fem3d/subsys.f:
		./fem3d/newsig.f:
	bug fix in copy_depth (basbathy.f)
	in depadj() do not set hm3v to constant (subdep.f)
	nsigma and bsigma renamed
		./fem3d/newfix.f:
		./fem3d/newbsig.f:
	new file ousutil.f
	map_influence.f restructured to use volume file

========================================================== 15-12-2010 - 6_1_14

15.12.2010	vertical TVD

	bug fix in convert_coords for mode=-1 (subcoord.f)
	bug fix in vert_aver() (map_influence.f)

	new routine vertical_flux_ie() for vertical tvd
	traccia routines moved to subtrace.f

	ousvdiff.f prepared to use for water level differences
	ousextr_gis.f new for 3D gis output
	in map_influence.f write all conz to one file

09.10.2010

	better error handling for CircumCircle Error (meshge.c)
	better labeling of reference arrow in vertical plot
	in oktime() handle negative itfreq (suptim.f)

========================================================== 08-10-2010 - 6_1_13

08.10.2010
	bug fix in init_coriolis() -> ym not set for isphe=1 (newini.f)
	new routines for purging nodes after unifying (exgrd.c)
	general cleaning of directories

30.09.2010
	new vars itmin/itmax to limit writing in ousintp.f

========================================================== 29-09-2010 - 6_1_12

29.09.2010
	new routine PsArcFill()
	finished velocity plot with reference arrow

========================================================== 28-09-2010 - 6.1.11

28.09.2010
	bug fix in init_coriolis() for isphe=1, new value for icor

========================================================== 26-07-2010 - 6.1.10

========================================================== 22-07-2010 - 6.1.9

05.07.2010
	new routine dist_point_to_line(), bug fix in inpoly1() (subgeo.f)
	shell to compute energy, new routine for computing 3D kin/pot energy
	new way to compute area of polygon (stable for 64 bit)  (gridut.c)

========================================================== 03-05-2010 - 6_1_8

29.04.2010
	write volumes (wrfvla)

========================================================== 26-04-2010 - 6_1_7

========================================================== 26-04-2010 - 6.1.6

26-04-2010
	new UTM projection

========================================================== 22-04-2010 - 6.1.5

14.04.2010
	account for negative levmin/max
	ad hoc routine for Yaron (momentum input, unfinished) (new3di.f)
	spheric coordinates: new routines get_coords_ev(), check_spheric_ev()
	bug fix in frac_pos() -> maybe compiler error (supbas.f)

26.03.2010
	vertical plot for velocity finished (also spherical coordinates)
	new parameters for arrows in section plot
	make it easier to change between color tables

22.03.2010
	bug fix for evaporation in newcon.f:
		evaporation was not computed correctly due to the
		treatment of negative fluxes in a way appropriate only
		for open boundary nodes -> check for OBC
	small bug in subn11:
		forgotten to initialize sconz
	new inpoly in subgeo.f:
		faster way to compute in-poly check for arbitrary polygons

11.03.2010
	check for negative volumes (node and element) in newtra.f
	min/max property not for ibtyp=1 (newcon.f)
	write also vertical velocity for restart

10.03.2010
	bug fix in new3di.f
		-> compute vertical velocities also for ibtyp=2
		-> otherwise tracer over/under-shoot can happen

08.03.2010
	use bformat to decide on initial read in newbcl.f
	bug fix in newstab.f, newexpl.f
		-> only run down to avail levels

01.03.2010
	new map_influence.f
	tramp in subn11.f
	grid quality in basinf.f
	some changes in newtra.f
	new routine jamal_fra in subcus.f

26.02.2010
	new computation of stability for advection in momentum equation
	bug fix in make_scal_flux() (subn11.f)
	compilor warnings eliminated

22.02.2010
	new file for stability condition computation -> simplified
		viscous_stability for dt=1
	subwin.f restructured
		new arrays wxv, wyv
		new itdrag for smith and Banke etc..
		computes wind if stress is given
	new routine for tidal potential

16.02.2010
	new stability constraints for T/D (with point sources)
	new diffusion matrix
	new method for imposing BC on T/D (fluxes and concentrations)

18.11.2009
	in jamal correct residence time

13.11.2009
	in restart keep track of what has been read
	only initialize T/S if no restart file has been read
	(rhov and bpresv might need special treatment)

12.11.2009
	problems of negative tracers at negative discharge boundary condition
	-> solved by moving make_scal_flux() into time loop (newcon.f)
	now it uses always the right ambient tracer concentration
	added new routine is_zeta_bound(k) to subbndo.f

11.11.2009
	handle abosrption of short rad in more than one layer (subqfxt.f)

14.10.2009
        in plotsim.f new arrays for section plot
        in supano.f changes to colbar, new inbox routines
        in supdep.f new routine mkht3 to set depth structure
        in supout.f set nlv once file is read
        in supsim.f section plot for velocities in plosim
        in suplin.f vertical plot finished (scalar and velocities)
        new files basin.h line_nodes.f suplin1.f

13.10.2009
	new section $sect to plot vertical section has been introduced

29.05.2009
	new ityrst for options in restarting

26.05.2009
	basic projection in subcoord.f
	use new projection in submeteo.f (to be finished)
	scalar interpolation (not finished) in new3di.f
	new setting for lat/lon coordinates in subnev.f

21.05.2009
	new basbathy (interpolation on nodes, latlon)
	new bastreat (still to be finished)

30.04.2009
	new routines to read grd and not bnd file 
		(still to finish implementation)

29.04.2009
	links restructured 
		(subwat,subuti,sublin,sedi3d,bdist)
		(subflxa,flux,lagrange_flux)
		(links,sublnka,sublnka,sublnku)

27.04.2009
	ktilt and ztilt together (subn11,subbnd)

24.04.2009
	new routine rdgrd implemented (basbathy,vp,subgrd,adjele)
	test for parallel execution (newcon)

21.04.2009
	new inic2fill() (newini)
	in femplot allow for constant value in color plot (supano,col)

20.04.2009	version  5.28
	ztilt implemented
	check again for band width
	delete level.h in femplot

06.04.2009	version  5.27
	bug fix in newtvd
		instead of testing (conc==cond) now (abs(conc-cond) < eps)
		created NaN in 64 bit architecture
	adjust param.h from Rules.make
	all files now read param.h
	new routines in newchk.f for checking nodes/elems
	nlidim renamed to nlkdim

03.04.2009	version  5.26b
	bug fix for lagrangian interpolation (unstable)
		use of lagrangian interpolation routine with "strange"
		data (times 1,2,120000,30000000) would lead to
		unrealistic results on 64 bit architecture
	intpol default is 0 (4 for ibtyp=1, 2 else)
	eliminated compiler warnings for gfortran
	in sparskit routines substituted assigned goto with if

31.03.2009	version  5.26
	tvd scheme integrated 
		for general use itvd=2 is recommended
	sparskit integrated
	gauss elimination tested with double precision (see simsys_lp.f)
	some changes to code for regular matrices

27.03.2009
	bug fix for dry nodes -> call adjust_mass_flux()
		results was a mass conservation error

13.03.2009
	bug fix in subsys.f -> for some parameters wrong default section

11.03.2009
	new code for regular matrices:
		new: submeteo, subrgf, subcoord
		new calls to: meteo_regular, meteo_set_matrix, meteo_get_values
		changed: subqfxf, subqfxt, subn11, subsys

27.01.2009
	new routine scal_intp to interpolate scalar variables
	bug fix in post routines
	routines from Andrea integrated (TVD, semi-lagrangian)

18.12.2008
	bugfix in GOTM modul -> problem for 2 layers -> viscosity
	bugfix in subgotm.f -> ss can be negative -> abs() statements used
	new rfricv for bottom friction in new3di.f (computed in subn35.f)

08.11.2008
	bugfix in conz3d (newcon) -> 
		must compute vertical velocity on right time
		both for mass and tracer conservation

08.10.2008
	data flow for boundary conditions:

                call scal_bnd('temp',t,bnd3_temp)
	        	call bnds_set(what,t,nb3dim,bnd3,bnd3_aux)
				call exfintp(array(1,ibc),t,aaux)
				call exfset(array(1,ibc),t,aaux)
                call scal_adv
        		call bnds_trans
        		call scal3sh
				call make_scal_flux
				call conz3d
				call bndo_setbc


03.09.2008
	in STR use nbdim as number of levels given in data file
		-> must be equal to lmax given in file

30.04.2008
	for profiling: Intel thread profiler
		-openmp-profile
		-openmp-report{1|2}

	could make better structure for diagnostic variables:
		T/S, bio
		maybe use time series

	should condense some subroutines:
		concmass, concmass1
		massconc
		tsmass
		scalmass
		totcon

18.01.2008
	* bio3d still broken
	* ousaver.f still broken
	lagrange with continuous release (lagrange_cont.f)
	new file nosdiff_deb.f in var

25-01-2005
	bug in advective terms (BUGADV) -> fixed in new3di.f

15-10-2004
	checkerboard plots derive from wrong write (nlvdim) of confil

22-09-2004
	newdat.f substituted by subdts.f

15-08-2003
	structure of ht file:

		set dimensions

		read STR file

		check dimensions
		check STR file

		set up ev and geom arrays

		initialize vertical levels
		initialize coriolis, eddy, austausch

		initialize chezy

		initialize boundary conditions (sp111)
		initialize z

		set depth arrays

		update geom, iwegv, inodv

		initialize u

		other modules

11-04-2003
	albedo introduced in file subqfxt
	
10-04-2003
	problems with negative temp solved -> new routine wbt in subqfxu1.f
	
14-10-2002
	atpar, adpar,aapar -> default is now 1.0 (fully implicit)
	thdif = shdif in barcl (FIXME)
	diffset introduced eberywhere and largely commented
	use itsmed (subroutine tsmed) to produce min/max/med of S/T in file tsa
	
03-09-2002
	averaging for TS introduced (tsmed)
	sanity_check introduced into ht (newchk.f)
	bug in subflxa.f (ggu99) -> reproduce ???

07-12-2001
	version 4.63

05-12-2001
	fixed compiler error with -Wall -pedantic
	new routines diffstab,diffstab1,difflimit
	variable horizontal diffusion, limit on dif.coef.
	horizontal diffusion variable, limit diffusion coef.
	compute istot, more debug info
	always execute tstvol, more debug info
	subbndo.f: NTBC - BUG -> has not been set before

03-12-2001
	new arrays [cst]difhv
	subbndo.f: LEVMX - look out for missing level of near node

21-11-2001
	Handle ambient input of water with ibtyp=3 -> -999.
	routines to handle advective index (aix)

19-11-2001
	eliminated h1hv,ulv,vlv - centralized hlhv, hldv

16-11-2001
	version 4.62

16-11-2001
	subroutine conmima and diffstab
	dynamic computation of istot (rstot) introduced

14-11-2001
	all compiler directives have been eliminated
	no .F files left
	makefile renamed into Makefile

12-11-2001
	rcv in subcon was not in common block -> who removed it
	baroxv, baroyv, adauxv, adauxv commented out in ht (not used)

08-01-2001
	hp from sediment (4.56) faster than hp from stream (4.60) (ht?)
	ht is not computing flx in mass conserving way
	hp explodes on M2 with venlag62 -> ilin = 1 must be set

09-01-2001
	ht is not conserving tracer (conz)

12-01-2001
	mass conservation has been restored passing from dz computation
	to direct znv computation (only three small changes in new3di.F).
	Problem was that zn = zo + dz was violated when levels of zo
	were not the same (just before re-including a dry element).
	Direct computation of zn bypasses this problem.
	The erroneous FLX computation was due to the failure of
	mass conservation of ht

	speed of ht depends on the call of valtest which slows down
	the computation

	conservation of tracers in ht must still be looked at

#------------------------------------------------------------------------
#
#    Copyright (C) 1985-2020  Georg Umgiesser
#
#    This file is part of SHYFEM.
#
#------------------------------------------------------------------------

